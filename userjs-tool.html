<!DOCTYPE html>
<html xml:lang="en" lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="height=device-height, width=device-width,
    initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0,
    user-scalable=no, target-densitydpi=device-dpi, shrink-to-fit=no">
  <!-- <style>* {-webkit-text-size-adjust: none}</style> -->

  <!-- *************************************

       Interactive view, compare, and more for Firefox user.js

       Name         : userjs-tool.html
       Project      : https://github.com/icpantsparti2/firefox-user.js-tool
       Version      : 2022.04.06
       File         : https://raw.githubusercontent.com/icpantsparti2/firefox-user.js-tool/master/userjs-tool.html
       On-line      : https://icpantsparti2.github.io/firefox-user.js-tool/userjs-tool.html
       License (MIT): https://raw.githubusercontent.com/icpantsparti2/firefox-user.js-tool/master/LICENSE
       Disclaimer   : Use with care at your own risk, and verify any results

       Open on-line or save for off-line use.
       Visit the project page for updates/issues/etc.
       Other sources: shown in the code (libraries/functions)

       ************************************* -->

  <title>userjs-tool.html</title>

  <script type="text/javascript">
    var date_time_stamp;
    // keep track of the section selected to help overcome focus loss
    var section_focus, return_to_panel;
    var arkenfoxRepoMode = "";
  </script>

  <link rel="stylesheet" href="css/userjs-tool.css" />
  <link rel="stylesheet" type="text/css" href="css/userjs-tool-themes.css" />
  <!-- 3rd party JavaScript library (used when saving textarea contents to a file) -->
	<script type="text/javascript" src="js/download.js"></script>
  <!-- 3rd party JavaScript library (used to show text differences between two user.js)  -->
  <script type="text/javascript" src="js/jsdiff-modified.js"></script>
  <script type="text/javascript" src="js/userjs-tool.js"></script>
  <script type="text/javascript" src="js/userjs-tool-common.js"></script>
  <script type="text/javascript" src="js/userjs-tool-userjs-viewer.js"></script>
  <script type="text/javascript" src="js/userjs-tool-userjs-compare.js"></script>
  <script type="text/javascript" src="js/userjs-tool-userjs-table-view.js"></script>
  <script type="text/javascript" src="js/userjs-tool-userjs-append.js"></script>
  <script type="text/javascript" src="js/userjs-tool-userjs-reduce.js"></script>
  <script type="text/javascript" src="js/userjs-tool-userjs-to-value-groups.js"></script>
  <script type="text/javascript" src="js/userjs-tool-collect-mode.js"></script>
  <script type="text/javascript" src="js/userjs-tool-event-listeners.js"></script>
  <script type="text/javascript" src="js/userjs-tool-file-loading.js"></script>
  <script type="text/javascript" src="js/userjs-tool-af-mode.js"></script>
  <script type="text/javascript" src="js/userjs-tool-start-up.js"></script>

</head>

<body onload="userjstoolStart()">

<!-- hidden heading (H1/H3/DL tags for bookmarks import compatibility) -->
<div class="hidden"><H1>Bookmarks Menu</H1></div><DL>
<!-- >>>> date is inserted here later <<<< -->
<div id="hiddendate" class="hidden"><H3>--userjs_</H3></div><DL>




<!-- *************************************
     top_buttons_bar
     ************************************* -->

<div id="top_buttons_bar">

<!-- index_select -->
<!-- the first option is used as a title/label -->
<select class="controls borders top_buttons" id="index_select"
title="Go to section">
<!-- >>>> section headings (between here) are replaced later <<<< -->
  <option value="" disabled selected hidden>&#x25BE;Index</option>
  <option>(TOP) / Introduction</option>
<!-- >>>> section headings (between here) are replaced later <<<< -->
</select>

<!-- groups_button -->
<button type="button" class="controls borders top_buttons"
id="groups_button" title="Show/hide about:config Groups panel"
>Groups</button>

<!-- size_select -->
<!-- the first option is used as a title/label
     and changes to show the current font size percent -->
<select class="controls borders top_buttons" id="size_select"
title="Change font size">
  <option value="" disabled selected hidden>&#x25BE;100%</option>
  <option>-10%</option>
  <option>+10%</option>
  <option>50%</option>
  <option>75%</option>
  <option>100%</option>
  <option>125%</option>
  <option>150%</option>
  <option>175%</option>
  <option>200%</option>
  <option>250%</option>
  <option>300%</option>
</select>

<!-- menu_select -->
<!--
      some of these option names (the prefix symbol) will alter when toggled
      the menu_select addEventListener matches option name keywords not indexes
      the first option is used as a title/label
      options are prefixed with unicode characters:
        &#x25EB; WHITE SQUARE WITH VERTICAL BISECTING LINE  (not a toggle)
        &#x25A2; WHITE SQUARE WITH ROUNDED CORNERS  (off/false)
        &#x25A3; WHITE SQUARE CONTAINING BLACK SMALL SQUARE  (on/true)
        &#x00A0; (blank/space) as leading/multi-spaces are lost
        &hellip; symbol for '...'  (not used, looks too small)
        &#x205D; TRICOLON  (vertical ...) (not used)
-->
<select id="menu_select" class="controls borders top_buttons"
title="Select menu option">
  <option value="" disabled selected hidden>&#x25BE;Menu</option>
  <option>&#x25EB;&#x00A0;&#x00A0;Collapse all</option>
  <option>&#x25EB;&#x00A0;&#x00A0;Expand all</option>
  <option>&#x25EB;&#x00A0;&#x00A0;Collapse current/headings</option>
  <option value="" disabled></option>
  <option>&#x25A2;&#x00A0;&#x00A0;[Actions] (input panel)</option>
  <option>&#x25A2;&#x00A0;&#x00A0;[Groups] (about:config search)</option>
  <option>&#x25A2;&#x00A0;&#x00A0;[Links] (template/profiles/etc)</option>
  <option>&#x25A2;&#x00A0;&#x00A0;[about:config Functions]</option>
  <option>&#x25A2;&#x00A0;&#x00A0;[Help/Info]</option>
  <option value="" disabled></option>
  <option>&#x25A2;&#x00A0;&#x00A0;Wrap text</option>
  <option>&#x25A2;&#x00A0;&#x00A0;Prefix about:config links</option>
  <option>&#x25A2;&#x00A0;&#x00A0;Function about:config links</option>
  <option value="" disabled></option>
  <option>&#x25A2;&#x00A0;&#x00A0;Expand all on view</option>
  <option>&#x25A2;&#x00A0;&#x00A0;Show Groups on view</option>
  <option>&#x25A2;&#x00A0;&#x00A0;View+ style on view</option>
  <option value="" disabled></option>
  <option>&#x25A2;&#x00A0;&#x00A0;Theme: default</option>
  <option>&#x25A2;&#x00A0;&#x00A0;Theme: dark</option>
  <option>&#x25A2;&#x00A0;&#x00A0;Theme: light</option>
  <option>&#x25A2;&#x00A0;&#x00A0;Theme: arkenfox</option>
  <option>&#x25EB;&#x00A0;&#x00A0;Other themes</option>
</select>

<button type="button" id="back_button" class="controls borders top_buttons"
title="Close panel" onclick="backButton();"><b>&lt;</b>Back</button>

</div><!-- end: top_buttons_bar -->




<!-- *************************************
     top of body / view_area
     ************************************* -->

<div id="body_offset"><br><br><br><br></div>
<div id="collect_mode_pad"><br><br><br><br><br><br><br><br><br><br><br><br><br>
<br>Note: a very basic overrides collector, click value/"user_pref" to toggle.<br>
You can also edit box 2 above, and don't forget to save what you do.<br><br></div>

<div id="view_area">
<!-- >>>> section contents (between here) are replaced later <<<< -->
  <button type="button" class="controls borders heading_buttons"
id="TOP-Introduction">(TOP) / Introduction</button>
  <div class="content">
Please add user.js content under [Menu]&gt;[Actions],
then use [View], [Table View], or [Compare].
  </div>
<!-- >>>> section contents (between here) are replaced later <<<< -->
</div><!-- end: view_area -->




<!-- *************************************
     actions_panel
     ************************************* -->

<div id="actions_panel" class="panels borders">
<span class="close_panel_x" onclick="toggleActionsPanel();"
title="Close [Actions] panel">&times;</span>
<!-- hidden heading (H1/H3/DL tags for bookmarks import compatibility) -->
<div class="hidden"><H3>[Actions]</H3></div>
<b>[Actions] (Firefox user.js view, compare and more)</b> ([X] closes)<br>
(Please see "Hints" below, scroll down)<br><br>

<!-- actions_buttons_bar -->

<div id="actions_buttons_bar"><!--

--><button type="button" class="controls borders" id="div_1_template_button"
title="Display Template box (eg arkenfox user.js)">Box 1<br>Template</button><!--

--><button type="button" class="controls borders" id="div_2_overrides_button"
title="Display user-overrides.js box">Box 2<br>Overrides</button><!--

--><button type="button" class="controls borders" id="div_3_userjs_button"
title="Display user.js box">Box 3<br>user.js</button><!--

--><button type="button" class="controls borders" id="div_4_other_button"
title="Display Other box (eg prefs.js/etc)">Box 4<br>Other</button><!--

--><button type="button" class="controls borders" id="all_button"
title="Show all boxes">All</button><!--

--></div><!-- end: actions_buttons_bar -->

<!-- div_1_template -->

<div id="div_1_2">

<div id="div_1_template"><table><tr><td class="td1_actions">
<b>Box 1</b><!--
-->&nbsp;&nbsp;<div id="box_1_template_ro">&#x25A2;ro</div><br>

<button type="button" class="controls borders" id="view_template_button"
title="View box content with HTML, links, etc">View</button><br>

<button type="button" class="controls borders" id="tableview_template_button"
title="View box content in a table (for arkenfox user.js)">Table View</button><br>

<select class="controls borders" id="loadsave_template_select"
title="Select a file and load contents into the box">
<option value="" disabled selected hidden>&#x25BE;Load/Save</option>
</select><br>

<button type="button" class="controls borders" id="select_template_button"
title="Select all text in the box">Select</button><br>

<button type="button" class="controls borders" id="clear_template_button"
title="Clear the text in the box">Clear</button>

<input class="hidden controls borders" type="file" multiple="multiple"
name="file" accept=".js" id="load_template_input" />

</td><td class="td2_actions">
<a target="_blank" rel="external noopener noreferrer"
class="local_folder" href="user-template.js">Template</a> eg
<a target="_blank" rel="external noopener noreferrer"
href="https://github.com/arkenfox/user.js">arkenfox</a>
<textarea id="box_1_template" autofocus="true"
ondrop="dropHandler1(event);" ondragover="dragOverHandler(event);"
placeholder="&#10; Add user.js template here (Use [Load] button, drag/drop or paste)&#10;&#10; Then use [View], [Table View], [Compare], or another action button"
></textarea>
</td></tr></table></div>

<!-- div_2_overrides -->

<div id="div_2_overrides" class="hidden"><table><tr><td class="td1_actions">
<b>Box 2</b><!--
-->&nbsp;&nbsp;<span id="box_2_overrides_ro">&#x25A2;ro</span><br>

<!-- End Collect button is hidden until needed -->
<button type="button" class="controls borders" id="endcollect_button"
title="End the point and click overrides collection"
>End Collect</button><br id="endcollect_br">

<button type="button" class="controls borders" id="view_overrides_button"
title="View box content with HTML, links, etc">View</button><br>

<button type="button" class="controls borders" id="tableview_overrides_button"
title="View box content in a table (for arkenfox user.js)">Table View</button><br>

<select class="controls borders" id="loadsave_overrides_select"
title="Select a file and load contents into the box">
<option value="" disabled selected hidden>&#x25BE;Load/Save</option>
</select><br>

<button type="button" class="controls borders" id="select_overrides_button"
title="Select all text in the box">Select</button><br>

<button type="button" class="controls borders" id="clear_overrides_button"
title="Clear the text in the box">Clear</button><br>

<input class="hidden controls borders" type="file" multiple="multiple"
name="file" accept=".js" id="load_overrides_input" />

</td><td class="td2_actions">
<a target="_blank" rel="external noopener noreferrer"
class="local_folder" href="user-overrides.js">user-overrides.js</a>
<textarea id="box_2_overrides"
ondrop="dropHandler2(event);" ondragover="dragOverHandler(event);"
placeholder="&#10; Add user-overrides.js here (Use [Load] button, drag/drop or paste)&#10;&#10; (or used for action button input/output)"
></textarea>
</td></tr></table></div>

</div>

<!-- div_3_userjs -->

<div id="div_3_4">

<div id="div_3_userjs" class="hidden"><table><tr><td class="td1_actions">
<b>Box 3</b><!--
-->&nbsp;&nbsp;<span id="box_3_userjs_ro">&#x25A2;ro</span><br>

<button type="button" class="controls borders" id="view_userjs_button"
title="View box content with HTML, links, etc">View</button><br>

<button type="button" class="controls borders" id="tableview_userjs_button"
title="View box content in a table (for arkenfox user.js)">Table View</button><br>

<select class="controls borders" id="loadsave_userjs_select"
title="Select a file and load contents into the box">
<option value="" disabled selected hidden>&#x25BE;Load/Save</option>
</select><br>

<button type="button" class="controls borders" id="select_userjs_button"
title="Select all text in the box">Select</button><br>

<button type="button" class="controls borders" id="clear_userjs_button"
title="Clear the text in the box">Clear</button><br>

<input class="hidden controls borders" type="file" multiple="multiple"
name="file" accept=".js" id="load_userjs_input" />

</td><td class="td2_actions">
<a target="_blank" rel="external noopener noreferrer"
class="local_folder" href="user.js">user.js</a>
<textarea id="box_3_userjs"
ondrop="dropHandler3(event);" ondragover="dragOverHandler(event);"
placeholder="&#10; Add user.js here (Use [Load] button, drag/drop or paste)&#10;&#10; (or used for action button input/output)"
></textarea>
</td></tr></table></div>

<!-- div_4_other -->

<div id="div_4_other" class="hidden"><table><tr><td class="td1_actions">
<b>Box 4</b><!--
-->&nbsp;&nbsp;<span id="box_4_other_ro">&#x25A2;ro</span><br>

<button type="button" class="controls borders" id="view_other_button"
title="View box content with HTML, links, etc">View</button><br>

<button type="button" class="controls borders" id="tableview_other_button"
title="View box content in a table (for arkenfox user.js)">Table View</button><br>

<select class="controls borders" id="loadsave_other_select"
title="Select a file and load contents into the box">
<option value="" disabled selected hidden>&#x25BE;Load/Save</option>
</select><br>

<button type="button" class="controls borders" id="select_other_button"
title="Select all text in the box">Select</button><br>

<button type="button" class="controls borders" id="clear_other_button"
title="Clear the text in the box">Clear</button><br>

<input class="hidden controls borders" type="file" multiple="multiple"
name="file" accept=".js" id="load_other_input" />

</td><td class="td2_actions">
<a target="_blank" rel="external noopener noreferrer"
class="local_folder" href=".">Other</a><!--

-->/<a target="_blank" rel="external noopener noreferrer"
class="local_folder" href="prefs.js">prefs.js</a>

<textarea id="box_4_other"
ondrop="dropHandler4(event);" ondragover="dragOverHandler(event);"
placeholder="&#10; Add other/user.js here (Use [Load] button, drag/drop or paste)&#10;&#10; (or used for action button input/output)"
></textarea>
</td></tr></table></div>

</div>

<!-- actions_buttons_div -->

<div id="actions_buttons_div"><!--

--><button type="button" class="controls borders" id="view_arkenfox_button"
title="View current arkenfox user.js in a table (Load in Box 1)">View arkenfox &gt;1</button><!--

--><button type="button" class="controls borders" id="load_arkenfox_button"
title="Load current arkenfox user.js into Box 1">Load arkenfox &gt;1</button><!--

--><select class="controls borders" id="compare_select"
title="Compare the user_pref of 2 boxes">
<option value="" disabled selected hidden>&#x25BE;Compare</option>
<option>Compare box 1 &amp; 1 &#x00A0;&#x00A0;A-Z</option>
<option>Compare box 1 &amp; 2 &#x00A0;&#x00A0;&#x25E6;</option>
<option>Compare box 1 &amp; 3 &#x00A0;&#x00A0;&#x25E6;</option>
<option>Compare box 1 &amp; 4 &#x00A0;&#x00A0;&#x25E6;</option>
<option>Compare box 2 &amp; 1</option>
<option>Compare box 2 &amp; 2 &#x00A0;&#x00A0;A-Z</option>
<option>Compare box 2 &amp; 3 &#x00A0;&#x00A0;&#x25E6;</option>
<option>Compare box 2 &amp; 4 &#x00A0;&#x00A0;&#x25E6;</option>
<option>Compare box 3 &amp; 1</option>
<option>Compare box 3 &amp; 2</option>
<option>Compare box 3 &amp; 3 &#x00A0;&#x00A0;A-Z</option>
<option>Compare box 3 &amp; 4 &#x00A0;&#x00A0;&#x25E6;</option>
<option>Compare box 4 &amp; 1</option>
<option>Compare box 4 &amp; 2</option>
<option>Compare box 4 &amp; 3</option>
<option>Compare box 4 &amp; 4 &#x00A0;&#x00A0;A-Z</option>
</select><!--

--><button type="button" class="controls borders" id="append_button"
title="Append/apply overrides onto template to form user.js"
>Append 1+2&gt;3</button><!--

--><button type="button" class="controls borders" id="skeleton_button"
title="Create a user-overrides.js skeleton"
>Skeleton 1&gt;2</button><!--

--><button type="button" class="controls borders" id="collect_button"
title="Point and click overrides collector"
>Collect 1&gt;+2</button><!--

--><button type="button" class="controls borders" id="reduce_button"
title="Reduce user.js to just user_pref lines"
>Reduce 1&gt;4</button><!--

--><button type="button" class="controls borders" id="clean_button"
title="Remove user.js user_pref from another .js"
>Clean 4-3&gt;4</button><!--

--><button type="button" class="controls borders" id="byvalue_button"
title="Group user_pref by value (eg for Android about:config)"
>By Value 3&gt;4</button><!--

--><button type="button" class="controls borders" id="togroup_button"
title="Preference list to about:config?filter= group"
>To Group 4&gt;4</button><!--

--><select class="controls borders" id="encode_select"
title="Encode/Decode text (Base64, URI)">
<option value="" disabled selected hidden>&#x25BE;Encode 4&gt;4</option>
<option>Encode text to Base64 (multi line)</option>
<option>Encode text to Base64</option>
<option>Decode Base64 to text</option>
<option>Encode URI Component</option>
<option>Decode URI Component</option>
<option>Encode URI</option>
<option>Decode URI</option>
<option>Escape for RegExp</option>
</select><!--

--><button type="button" class="controls borders" id="functions_button"
title="Functions for about:config (find (filter/list)/reset/set)"
>a:c Functions</button><!--

--><button type="button" class="controls borders" id="links_button"
title="Display some useful links (eg: arkenfox user.js, auto-load, profile folders)"
>Links</button><!--

--><button type="button" class="controls borders" id="help_button"
>Help/Info</button>

<br><br><br>Hints:<br>

<ul>

<br><li><a target="_blank" rel="external noopener noreferrer"
href="?at"
>To view the current arkenfox user.js in a table</a>
<br>Click the [View arkenfox] button, or use the above link.</li>

<br><li><a target="_blank" rel="external noopener noreferrer"
href="?a&action=collect"
>To collect/create Overrides from arkenfox user.js</a>
<br>Click [Load arkenfox] then [Collect], or use the above link.</li>

<br><li><b>What do the buttons do?</b>
<br>Hover mouse over buttons for their info, or click [Help/Info].</li>

<br><li><b>How to return here to [Actions]?</b>
<br>Click [Menu] choose [Actions], or try the [<b>&lt;</b>Back] button.</li>

<br><li><b>View or compare user.js</b>
<br>Place user.js text into the box(es) above using the [Load] button (or
drag/drop, copy/paste) then click [View], [Table View] or [Compare].</li>

<br><li><b>To append your user-overrides.js</b>
<br>Place the user.js template in Box 1 (or click [Load arkenfox]), place your
overrides in Box 2, then click [Append], resulting user.js will be in Box 3.</li>

<br><li><b>What are the numbers on some buttons?</b>
<br>It indicates "input>output" boxes, contents of the output box are
usually replaced, [Collect] amends the output box.</li>

<br><li><b>[Index] = section jump, [Groups] = about:config search patterns</b>
<br>These are updated after [View]/[Table View]/[Compare] are used.</li>

<br><li><a target="_blank" rel="external noopener noreferrer"
href="https://raw.githubusercontent.com/icpantsparti2/firefox-user.js-tool/master/userjs-tool-aboutconfig-functions.js"
>To get more out of about:config (eg: find, filter, list, save to file, etc)</a>
<br>Click [a:c Functions], or use the above link.</li>

<br><li><a target="_blank" rel="external noopener noreferrer"
href="?at&groups=true"
>For searching arkenfox user.js preferences in about:config</a>
<br>Click [View arkenfox] then [Groups], or use the above link.</li>

<br><li><a target="_blank" rel="external noopener noreferrer"
href="?box=a&action=togroup&load4=%68ttps://raw.githubusercontent.com/arkenfox/user.js/master/scratchpad-scripts/troubleshooter.js"
>For searching arkenfox troubleshooter.js preferences in about:config</a>
<br>Place troubleshooter.js in Box 4 click [To Group], or use the above link.</li>

</ul>
<br><br><br><br><br>
</div><!-- end: actions_buttons_div -->

</div><!-- end: actions_panel -->




<!-- *************************************
     groups_panel
     ************************************* -->

  <div id="groups_panel" class="panels borders">
<span class="close_panel_x" onclick="toggleGroupsPanel();"
title="Close [Groups] panel">&times;</span>
<!-- hidden heading (H1/H3/DL tags for bookmarks import compatibility) -->
<div class="hidden"><H3>[Groups] (copy/paste into about:config search box)</H3></div>
<b>[Groups] (copy/paste into about:config search box)</b> ([X] closes)<br>
(shortcut: right click link, L, hold Ctrl: T, V, Enter, V<br>
ie: right click, Copy Link, new tab, paste in url box, enter, paste in search box)<br>
<!-- (if bookmarked: right click, c, left click, Ctrl+V)<br> -->
<br>
<!-- >>>> user pref groups (between here) are replaced later <<<< -->
<div id="groups_container">
Please add user.js content under [Menu]&gt;[Actions],
then use [View], [Table View], or [Compare].
</div>
<!-- >>>> user pref groups (between here) are replaced later <<<< -->
<br><br><br><br><br>
</div><!-- end: groups_panel -->




<!-- *************************************
     links_panel
     ************************************* -->

<div id="links_panel" class="panels borders">
<span class="close_panel_x" onclick="toggleLinksPanel();"
title="Close [Links] panel">&times;</span>
<!-- hidden heading (H1/H3/DL tags for bookmarks import compatibility) -->
<div class="hidden"><H3>[Links]</H3></div>
<b>[Links]</b> ([X] closes)

<br><br>
When choosing a user.js template you need to consider if
it is suitable, good quality, and up to date. &nbsp;(At your own risk)<br>


<br><br>
user.js template example
<table class="table_links">
<tr><td class="td1_links">
<a target="_blank" rel="external noopener noreferrer"
href="https://raw.githubusercontent.com/arkenfox/user.js/master/user.js"
>arkenfox user.js #</a>
<br><br>(read their wiki) (listed on privacytools.io)
<br><br><a target="_blank" rel="external noopener noreferrer"
href="https://github.com/arkenfox/user.js/issues/123"
>arkenfox user.js deprecated-removed-legacy prefs (list)</a>
</td><td class="td2_links">
<a target="_blank" rel="external noopener noreferrer"
href="https://github.com/arkenfox/user.js"
><span class="hidden">__arkenfox user.js </span>project page</a>
<br><br><a target="_blank" rel="external noopener noreferrer"
href="https://github.com/arkenfox/user.js/wiki"
><span class="hidden">__arkenfox user.js </span>wiki</a>
<br><br><a target="_blank" rel="external noopener noreferrer"
href="https://github.com/arkenfox/user.js/issues?q=sort%3Aupdated-desc"
><span class="hidden">__arkenfox user.js </span>issues</a>



</td></tr>
</table>


<!-- note about URL parameters -->
<br><br>
Auto-loading (also see [Menu]&gt;[Help/Info]&gt;Initial states)
<table class="table_links">

<tr><td class="td2_links">
<a target="_blank" rel="external noopener noreferrer"
href="?a&box=a"
>Load current arkenfox user.js</a>
(or specific <a target="_blank" rel="external noopener noreferrer"
href="?box=a&load1=%68ttps://raw.githubusercontent.com/arkenfox/user.js/master/user.js"
><span class="hidden">Load current arkenfox user.js/</span>URL</a>)
</td></tr>

<tr><td class="td2_links">
<a target="_blank" rel="external noopener noreferrer"
href="?at"
>View current arkenfox user.js in a table</a>
(or specific <a target="_blank" rel="external noopener noreferrer"
href="?box=a&action=table1&load1=%68ttps://raw.githubusercontent.com/arkenfox/user.js/master/user.js"
><span class="hidden">View current arkenfox user.js in a table/</span>URL</a>)
</td></tr>

<tr><td class="td2_links">
<a target="_blank" rel="external noopener noreferrer"
href="?av"
>View current arkenfox user.js with styling</a>
(or specific <a target="_blank" rel="external noopener noreferrer"
href="?box=a&action=view1&load1=%68ttps://raw.githubusercontent.com/arkenfox/user.js/master/user.js"
><span class="hidden">View current arkenfox user.js with styling/</span>URL</a>)
</td></tr>

<tr><td class="td2_links">
<a target="_blank" rel="external noopener noreferrer"
href="?a&action=collect"
>Overrides collector (using arkenfox)</a> (by clicking values/"user_pref")
</td></tr>

<tr><td class="td2_links">
<a target="_blank" rel="external noopener noreferrer"
href="?load2=data:text/plain;base64,Ly8gdGhpcyB0ZXh0IHdhcyBpbiB0aGUgbGluay9ib29rbWFyayAodXNpbmcgQmFzZTY0KQovLyAoZG8gbm90IHB1dCBhbnl0aGluZyBwcml2YXRlKQoKLy8gdXNlci1vdmVycmlkZXMuanMKLy8vLyAtLS0gYWRkLW92ZXJyaWRlLWNvbW1lbnQgLS0tCi8qKiogVElUTEUgKioqLwp1c2VyX3ByZWYoInByZWYubmFtZSIsIG51bGwpOwovLy8vIC0tLSBjb21tZW50LW91dCAtLS0gJ3ByZWYubmFtZScK"
>load some non private text (?load2=data:text/plain;base64,...)</a>
</td></tr>
</table>


<!-- example links for preference groups -->
<br><br>
Auto-load about:config Groups (for about:config search box to display multiple preferences)
<table class="table_links">

<tr><td class="td2_links">
<a target="_blank" rel="external noopener noreferrer"
href="?at&groups=true"
>Groups from arkenfox user.js by section</a>
(or specific <a target="_blank" rel="external noopener noreferrer"
href="?groups=true&box=a&action=table1&load1=%68ttps://raw.githubusercontent.com/arkenfox/user.js/master/user.js"
><span class="hidden">Groups from arkenfox user.js by section/</span>URL</a>)
</td></tr>

<tr><td class="td2_links">
<a target="_blank" rel="external noopener noreferrer"
href="?box=a&action=byvalue&load3=%68ttps://raw.githubusercontent.com/arkenfox/user.js/master/user.js"
>Groups from arkenfox user.js by value</a>
</td></tr>

<tr><td class="td2_links">
<a target="_blank" rel="external noopener noreferrer"
href="?box=a&action=togroup&load4=%68ttps://raw.githubusercontent.com/arkenfox/user.js/master/scratchpad-scripts/troubleshooter.js"
>Groups from arkenfox troubleshooter.js</a>
</td></tr>

<tr><td class="td2_links">
<a target="_blank" rel="external noopener noreferrer"
href="?box=a&action=togroup&load4=%68ttps://raw.githubusercontent.com/arkenfox/user.js/master/scratchpad-scripts/arkenfox-cleanup.js"
>Groups from arkenfox-cleanup.js</a>
</td></tr>

</table>


<!-- ***** profile locations ***** -->
<br><br>
Profile Locations (see <a target="_blank" rel="external noopener noreferrer"
href="about:profiles">about:profiles</a> in a new tab)
<table class="table_links">
<tr><td class="td1_links">
file:///C:/Users/USERNAME/AppData/Roaming/Mozilla/Firefox/Profiles
</td><td class="td2_links">
<a target="_blank" rel="external noopener noreferrer"
href="file:///C:/Users/USERNAME/AppData/Roaming/Mozilla/Firefox/Profiles"
><span class="hidden">Firefox profile: </span>Windows</a>
</td></tr>

<tr><td class="td1_links">
file:///data/data/org.mozilla.firefox/files/mozilla
</td><td class="td2_links">
<a target="_blank" rel="external noopener noreferrer"
href="file:///data/data/org.mozilla.firefox/files/mozilla"
><span class="hidden">Firefox profile: </span>Android</a>
</td></tr>

<tr><td class="td1_links">
file:///data/data/org.mozilla.fenix/files/mozilla
</td><td class="td2_links">
<a target="_blank" rel="external noopener noreferrer"
href="file:///data/data/org.mozilla.fenix/files/mozilla"
><span class="hidden">Firefox profile: </span>Android Nightly</a>
</td></tr>

<tr><td class="td1_links">
file:///Users/USERNAME/Library/Application Support/Firefox/Profiles
</td><td class="td2_links">
<a target="_blank" rel="external noopener noreferrer"
href="file:///Users/USERNAME/Library/Application%20Support/Firefox/Profiles"
><span class="hidden">Firefox profile: </span>OS X</a>
</td></tr>

<tr><td class="td1_links">
file:///home/USERNAME/.mozilla/firefox
</td><td class="td2_links">
<a target="_blank" rel="external noopener noreferrer"
href="file:///home/USERNAME/.mozilla/firefox"
><span class="hidden">Firefox profile: </span>Linux</a>
</td></tr>
</table>


<br><br><br><br><br></div><!-- end: links_panel -->




<!-- *************************************
     functions_panel
     ************************************* -->

<div id="functions_panel" class="panels borders">
<span class="close_panel_x" onclick="toggleFunctionsPanel();"
title="Close [Functions] panel">&times;</span>
<b>[about:config Functions]</b> ([X] closes)<br><br>
<button type="button" class="controls borders" id="select_functions_button"
title="Select all text in the box">Select</button>
<br><br><br><textarea id="functions_panel_textarea" autofocus="true"></textarea>
<br><br><br><br><br></div><!-- end: functions_panel -->




<!-- *************************************
     help_panel (visible when JavaScript is off)
     ************************************* -->

<div id="help_panel" class="panels borders">
<span class="close_panel_x" onclick="toggleHelpPanel();"
title="Close [Help] panel">&times;</span>
<!-- hidden heading (H1/H3/DL tags for bookmarks import compatibility) -->
<div class="hidden"><H3>[Help/Info]</H3></div>
<b>[Help/Info] (userjs-tool.html)</b> ([X] closes)<br><br>


<!-- javascript off message -->
<div id="help_panel_nojs_div" class="borders">
Hi! This requires JavaScript for dynamically rendering the HTML
interface, interactions and calculations.<br>
<br>
If you see this message perhaps JavaScript is off, or controlled by
an extension such as: uBlock Origin, uMatrix, NoScript.<br>
</div><hr>


<!-- version/links -->
<br>
Interactive view, compare, and more for Firefox user.js (eg arkenfox user.js).<br>
<br>
Version&nbsp;&nbsp;&nbsp;: 2022.04.06<br>

Project&nbsp;&nbsp;&nbsp;:
<a target="_blank" rel="external noopener noreferrer"
href="https://github.com/icpantsparti2/firefox-user.js-tool"
>firefox-user.js-tool (GitHub)</a> (updates/issues/etc)<br>

File&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:
<a target="_blank" rel="external noopener noreferrer"
href="https://raw.githubusercontent.com/icpantsparti2/firefox-user.js-tool/master/userjs-tool.html"
>userjs-tool.html (<span class="hidden">file/</span>GitHub)</a><br>

On-line&nbsp;&nbsp;&nbsp;:
<a target="_blank" rel="external noopener noreferrer"
href="https://icpantsparti2.github.io/firefox-user.js-tool/userjs-tool.html"
>userjs-tool.html (<span class="hidden">on-line/</span>GitHub Pages)</a><br>

License&nbsp;&nbsp;&nbsp;:
<a target="_blank" rel="external noopener noreferrer"
href="https://raw.githubusercontent.com/icpantsparti2/firefox-user.js-tool/master/LICENSE"
><span class="hidden">firefox-user.js-tool - </span>MIT License (GitHub)</a><br>

Disclaimer: Use with care at your own risk, and verify any results
<br><br>This is coded in HTML/CSS/JavaScript with no cross domain dependency.
&nbsp;Open on-line or save the html/css/js files for off-line use.
<br><br><hr>


<!-- Introduction -->
<br><details><summary>Introduction</summary>
<div class="indentdiv"><br>

Display a Mozilla Firefox user.js settings file contents
in your Firefox browser, with:<br>

<ul>

<br><li>highlighting, links, themes*, re-size, wrap,
about:config links/regex/groups</li>

<br><li>expanding sections, and index to go to sections
(with compatible user.js projects)</li>

<br><li>compare preferences in two user.js, in a table format with
order/layout options and bold cell border around differences</li>

<br><li>actions including: user-overrides.js* append* (with
comment-out*), point and click overrides collector, skeleton,
prefs.js cleaner*, group by values</li>

<br><li>load/save, drag/drop, or copy/paste user.js files
(can load from some on-line URLs too)</li>

<br><li>functions for find (filter/list)/reset/set on about:config
Web Console (Firefox/forks/Thunderbird/SeaMonkey)</li>

<br><li>coded in HTML/CSS/JavaScript with no cross domain dependency</li>

<br><li>open userjs-tool.html on-line or save for off-line use</li>

</ul>

<br>(*<a target="_blank" rel="external noopener noreferrer"
href="https://github.com/arkenfox/user.js"
>arkenfox user.js &#128142;</a> inspired, see "Acknowledgments" section below.
&nbsp;Please visit them and read their wiki/info, they
have nice scripts for append/clean/troubleshoot.)

<br><br>This started as an over the top experiment for learning some
HTML/CSS/JavaScript (first released 2019.01.02, compare added 2020.02.22).
<br>This is a viewer/tool, and not an editor/installer.

<br><br></div><hr></details>


<!-- user.js (and user-overrides.js) -->
<br><details><summary>user.js (and user-overrides.js)</summary>
<div class="indentdiv"><br>

A user.js file can be used by Mozilla Firefox (some forks and Thunderbird)
for configuration. &nbsp;It allows you to enforce preference settings
(user_pref) on browser start up. &nbsp;These are the settings
accessed when you type 'about:config' into the URL address box.
&nbsp;(See: <a target="_blank" rel="external noopener noreferrer"
href="http://kb.mozillazine.org/User.js_file"
>mozillaZine User.js file</a>
and <a target="_blank" rel="external noopener noreferrer"
href="https://github.com/arkenfox/user.js/wiki"
>arkenfox user.js wiki</a>)

<br><br>The user.js file needs to be placed in your Firefox
profile folder, type 'about:profiles' into the URL address box
to help find this. &nbsp;Make a backup copy of your Firefox
profile folder.

<br><br>Various online sites provide details of user_pref settings.
&nbsp;Some projects (ie arkenfox user.js) publish their user.js
template, with instructions and information/wiki.
&nbsp;These projects may update their content regularly,
keep your user.js up to date, settings may also change with
each Firefox version.

<br><br>A user-overrides.js file is not used directly by Firefox,
it is a arkenfox user.js idea, please read about this at the wiki
link given above. &nbsp;Basically, you take a projects user.js
template, and append your user-overrides.js onto it, to form
your user.js. &nbsp;The user-overrides.js file contains your
personal user_pref settings including any differences you
require. &nbsp;(user-template.js + user-overrides.js = user.js)

<br><br>There is no user.js content distributed with this HTML file,
user.js templates can be obtained from third party sources and are
subject to their license. &nbsp;If this HTML file contains any user.js
code then it has been added at a later stage by another party or end user,
or it has been auto loaded using URL parameter options.

<br><br></div><hr></details>


<!-- Loading content -->
<br><details><summary>Loading content</summary>
<div class="indentdiv"><br>

Load user.js content into the text boxes by:<br>

<div class="indentdiv">

<br><details><summary>PASTE (directly into the text box)</summary>
<div class="indentdiv"><br>
Paste the content into the text boxes under [Menu]&gt;[Actions].
&nbsp;Open the user.js first in a text editor or in a browser tab to copy it.
&nbsp;A link for arkenfox user.js is provided under [Menu]&gt;[Links].
<br><br>
The links shown above the text input boxes can also be used to open files in
a browser tab for copy/paste.
<br><br>
Those links are to files in a folder that is either, in the same location
as you placed the userjs-tool.html file, or in the location specified by
the folder= URL parameter (see Initial states).
</div></details>

<br><details><summary>[Load] (local file or from URL)</summary>
<div class="indentdiv"><br>
Use the [Menu]&gt;[Actions]&gt;[Load] buttons to open the browser file
selection dialog for local files, or load a file from a URL (input/pick).
<br><br>
With local files, select a single local .js file to load into the
current text box, or select multiple files for loading into Boxes 1/2/3/4
(tries to match file names to the boxes). &nbsp;(You can drag files into the
file selector to display that file location.) &nbsp;(You can also use the local
links shown above the text input boxes.&nbsp;Right click and
"Copy Link Location", then when the file selector is open press Ctrl-V
(paste) and the selector will display that file location. &nbsp;Those links
are to files in a folder that is either, in the same location
as you placed the userjs-tool.html file, or in the location specified by the
folder= URL parameter (see Initial states).)
<br><br>
When loading from a URL, if you use extensions that control fetch/XMLHttpRequest
you might have to allow the connection (eg uMatrix XHR). &nbsp;Some sites may
not allow file fetch, visit the URL and copy/paste instead.
</div></details>

<br><details><summary>DRAG (and drop into the text box)</summary>
<div class="indentdiv"><br>
Single file into the box, or multiple files are matched by name to
load into the other boxes.
</div></details>

<br><details><summary>AUTO (load file from a URL)</summary>
<div class="indentdiv"><br>
Automatic load of file from a URL, specified with combinations of URL
variables (see "Initial states" below,
eg ?expand=true&amp;action=view1&amp;load1=URL).
<br><br>
When loading from a URL, if you use extensions that control fetch/XMLHttpRequest
you might have to allow the connection (eg uMatrix XHR). &nbsp;Some sites may
not allow file fetch, visit the site and copy/paste instead.
<br><br>
(Default browser security prevents loading same origin local files (file://...)
with this method, and changing the "security.fileuri.strict_origin_policy"
preference to false is not recommended as it relaxes more than just this.)
</div></details>

<br><details><summary>EMBED (not recommended, will need maintaining)</summary>
<div class="indentdiv"><br>
Edit this HTML file and paste "base64 encoded user.js" data
within the &lt;body&gt; section (near the end). &nbsp;It will be
decoded and displayed on opening. &nbsp;See the
[Menu]&gt;[Actions]&gt;[Encode] option.
</div></details>

</div>

<br></div><hr></details>


<!-- Theme -->
<br><details><summary>Theme</summary>
<div class="indentdiv"><br>
This is not syntax highlighting, just simple highlighting.
&nbsp;Inactive user_pref (those within comments)
have the same highlighting style as active user_pref.
<br><br>
[Menu]&gt;"View+ style on view" is on by default, this shows in-block
comments as in-line comments, if you set this off some inactive user_pref
will have '//' preceding them, others within '/* */' comment blocks (which
may be multi-line) will have no style indicating they are inactive.
<br><br>
Some arkenfox user.js sections (such as: RFP ALTERNATIVES, and
DEPRECATED/ESR) use comment blocks, a text editor (such as Kate, Notepad++,
or Meld diff tool) would grey out everything in those commented sections,
this viewer does not.
<br><br>
Opens using default theme, unless the theme to use is specified with URL
variables (see "Initial states" below). &nbsp;If you want to override the
default theme with your own colors, or to add more custom color themes,
edit the "userjs-tool-themes.css" file.
<br><br></div><hr></details>


<!-- about:config links/[Groups] -->
<br><details><summary>about:config links and [Groups] (search/regex/Web Console)</summary>
<div class="indentdiv"><br>

<!-- links/search -->

Due to Firefox security, about:config links will not open
when clicked, either:<br>

<div class="indentdiv">

<br><details><summary>(Firefox v71+ paste link into about:config's search box)</summary>
<div class="indentdiv"><br>
The Firefox about:config page changed from Desktop version 71 and
"about:config?filter=" style search links are deprecated, they still open
the "about:config" page, and you can then paste the unedited link into the
about:config search box (because the links here are styled to work).
</div></details>


<br><details><summary>COPY (into URL address box)</summary>
<div class="indentdiv"><br>
Right click the link and "Copy link location", "Paste and go" into the URL
address box of a new tab. &nbsp;(On Android long press the link to see the
copy link option, but if on newer Android Firefox the copy option is not shown
on long press you will have to try the PREFIX method shown below) (on Android
the link works in the URL box or in the about:config search box).<br>
<br></div></details>
<div class="indentdiv">
(links FF71+ too: right click, L, hold Ctrl: T, V, Enter, V)
</div>

<br><details><summary>OPEN (in new tab via right click)</summary>
<div class="indentdiv"><br>
Right click the link and "Open Link in New Tab", change to tab,
click in URL address box and press enter to load.
(This may not work in some browser versions).
</div></details>

<br><details><summary>PREFIX (menu option/about:blank#)</summary>
<div class="indentdiv"><br>
Use the [Menu]&gt;"Prefix about:config" option to prefix
about:config links with "about:blank#", just to make them clickable,
then you must remove that prefix in the URL box. &nbsp;If the link only opens
about:config without filtering (such as on newer Firefox 71+) then copy
and paste the link into the about:config search box
</div></details>

<br><details><summary>BOOKMARKING (not recommended: they get out dated)</summary>
<div class="indentdiv"><br>
The links will open from bookmarks, mass import them by:
<ul>
<li>when viewing the user.js use the browser's "Save
Page As..." (Ctrl+S) to save a HTML file (remove it afterwards)</li>
<li>go into the browser's "Library", "Bookmarks", "Show All
Bookmarks" (Ctrl+Shift+B or Ctrl+Shift+O)</li>
<li>consider using bookmarks "Backup..." as a precaution</li>
<li>use "Import Bookmarks from HTML..." (may be slow)</li>
<li>keep them up to date (remove/replace)</li>
</ul>
<br></div></details>
<div class="indentdiv">
(bookmarks FF71+ too: right click, c, left click, Ctrl+V)
</div>

<br><details><summary>FUNCTION ("Web Console" regular expressions)</summary>
<div class="indentdiv"><br>
You can use the regular expressions from the links with
JavaScript functions to access preferences, copy/paste/edit or:<br>
<ul>
<li>Use the [Menu]&gt;"Function about:config link" option to style the
about:config links as "about:blank#ujtFindPref({style:3,name:REGEX});"</li>
<li>When on the about:config page open Firefox
"Web Console" (Ctrl+Shift+K)</li>
<li>Paste your function into the Web Console, eg for find (filter/list) user
preferences see the [Menu]&gt;[Actions]&gt;[a:c Functions] button for
"ujtFindPref".</li>
<li>Or input JavaScript to create a call to another function, eg:
var ujtFindPref = function(options) { anotherFunction(options["name"]); };</li>
<li>Copy/paste the link to use into the Web Console,
you must remove the "about:blank#" prefix.
</ul>
</div></details>

</div>

<br>The [Groups] button provides links for accessing batches
of preferences in about:config (to display multiple different
preferences), the groups are based on the user.js sections.
&nbsp;Useful when reviewing, troubleshooting, temporary
changes, manual tweaks on Android, etc.

<br><br>When using about:config some preferences are hidden,
and will only show up if they have been created/user set.
&nbsp;Also, if you change any settings through about:config
which are active in your user.js, they will change back to the
user.js value on browser restart.

<br><br></div><hr></details>


<!-- initial states -->
<br><details><summary>Initial states (and URL parameter variable options)</summary>
<div class="indentdiv"><br>
Some initial states can be set with (one or more) URL parameter variables:<br>
<br>
<div class="indentdiv">
PATH/userjs-tool.html<b>?</b>option=value<b>&amp;</b>option=value...
</div><br>
<ul>
<li>size=80&nbsp;&nbsp;(font size percent, default: 100, Android: 150)</li>
<li>wrap=true&nbsp;&nbsp;(line wrap)</li>
<li>expand=true&nbsp;&nbsp;(Expand all sections on View)</li>
<li>viewplus=false&nbsp;&nbsp;(comments shown in-line etc, default: true)</li>
<li>groups=true&nbsp;&nbsp;*(display [Groups] upon view)</li>
<li>prefix=true&nbsp;&nbsp;(prefixed about:config links: about:blank#)</li>
<li>prefix=function&nbsp;&nbsp;(about:config links to function link)</li>
<li>theme=default&nbsp;&nbsp;(default|dark|light|arkenfox|mono|inverse|none|...)</li>
<li>folder=file:///PATH&nbsp;&nbsp;(location for the local file links (shown
above the input boxes), default: same folder as userjs-tool.html)</li>
<li>box=a&nbsp;&nbsp;(open to [Actions] box 0(none)|1|2|3|4|a(all)|v(vertical)</li>
<li>loadX=URL&nbsp;&nbsp;(auto-load file from URL into box number X)</li>
<li>loadX=data:text/plain;base64,bm90IHByaXZhdGU=&nbsp;&nbsp;(load non-private text)</li>
<li>action=ACTION&nbsp;&nbsp;show functions|links|help (eg ACTION=functions)
<li>action=ACTION&nbsp;&nbsp;(when loadX=URL used), ACTION:
<div class="indentdiv">
viewX&nbsp;&nbsp;(view box number 0(none)|1|2|3|4)<br>
tableX&nbsp;&nbsp;(table view (arkenfox user.js) of box number 1|2|3|4)<br>
groupsX&nbsp;&nbsp;(show [Groups] for box number 1|2|3|4)<br>
compare:X:Y&nbsp;&nbsp;(compare box numbers 1|2|3|4 and 1|2|3|4)<br>
compare:X:Y:show&nbsp;&nbsp;(show: groupx6|groupx12|multiple|az|unsorted|diffstring)<br>
compare:X:Y:show:layout&nbsp;&nbsp;(layout: 5column|3column|2column)<br>
append,skeleton,collect,reduce,clean,byvalue,togroup<br>
</div>
</li>
<li>jump=TEXT&nbsp;&nbsp;(expand/focus first section containing TEXT with auto-load)</li>
<li>a&nbsp;&nbsp;(auto-load arkenfox user.js)</li>
<li>av&nbsp;&nbsp;(auto-load arkenfox user.js and view)</li>
<li>at&nbsp;&nbsp;(auto-load arkenfox user.js and table view)</li>
</ul>
<br>
<details><summary>Examples</summary>
<ul>
<li>https://icpantsparti2.github.io/firefox-user.js-tool/userjs-tool.html</li>
<li>file:///C:/Users/USERNAME/Downloads/userjs-tool.html</li>
<li>file:///home/USERNAME/Downloads/userjs-tool.html</li>
<li>?box=a&amp;expand=true</li>
<li>?theme=light&amp;size=150</li>
<li>?folder=file:///C:/Users/USERNAME/AppData/Roaming/Mozilla/Firefox/Profiles/XXXXXXXX.default-release</li>
<li>?folder=file:///home/USERNAME/.mozilla/firefox/XXXXXXXX.default-release</li>
<li>?av or ?action=view1&amp;box=a&amp;load1=https://raw.githubusercontent.com/arkenfox/user.js/master/user.js</li>
<li>?at or ?action=table1&amp;box=a&amp;load1=https://raw.githubusercontent.com/arkenfox/user.js/master/user.js</li>
<li>?action=compare:1:4&box=a&load1=https://raw.githubusercontent.com/arkenfox/user.js/master/user.js&load4=https://raw.githubusercontent.com/arkenfox/user.js/72.0/user.js</li>
</ul></details>
<br></div><hr></details>


<!-- Acknowledgments -->
<br><details><summary>Acknowledgments</summary>
<ul>
<br>
<li>2022.03.12 project forked from the dormant account of
https://github.com/icpantsparti and continues by the same
maintainer under https://github.com/icpantsparti2</li>
<br>
<li>Many thanks to <a target="_blank" rel="external noopener noreferrer"
href="https://github.com/arkenfox/user.js"
>https://github.com/arkenfox/user.js &#128142;</a> and all particiPANTS.
&nbsp;The HTML rendered view of user.js follows a similar style (and
dark/light theme) to the static HTML that arkenfox user.js once produced.
user-overrides.js append, prefs.js cleaner, //// --- comment-out --- are
arkenfox user.js methods.</li>
<br>
<li>Thanks <a target="_blank" rel="external noopener noreferrer"
href="http://www.ghacks.net/"
>http://www.ghacks.net/</a> who hosted earlier versions of arkenfox/user.js
(named "ghacks user.js" at that time).</li>
<br>
<li><a target="_blank" rel="external noopener noreferrer"
href="https://github.com/rndme/download"
>https://github.com/rndme/download</a>
for embedded JavaScript library download.js which enables [Save].
&nbsp;(pyllyukko once posted on github about
https://github.com/Genbox/HardenIT (dormant?) which used that).</li>
<br>
<li><a target="_blank" rel="external noopener noreferrer"
href="https://github.com/claustromaniac/Compare-UserJS"
>https://github.com/claustromaniac/Compare-UserJS &#128570;</a>
which inspired [Compare] (not a port).</li>
<br>
<li><a target="_blank" rel="external noopener noreferrer"
href="https://github.com/overdodactyl"
>https://github.com/overdodactyl &#129436;</a> made a work in progress prototype
(on shinyapps.io) in early 2019 which inspired [Table View] (not a port).</li>
<br>
<li><a target="_blank" rel="external noopener noreferrer"
href="https://johnresig.com/files/jsdiff.js"
>https://johnresig.com/files/jsdiff.js</a>
for embedded JavaScript library jsdiff.js, diffString
used on [Compare]&gt; [DiffStr].</li>
<br>
<li>This does not depend on JQuery or similar. &nbsp;Other
acknowledgments (eg stackoverflow etc) are shown in the code.</li>
<br>
<li><a target="_blank" rel="external noopener noreferrer"
href="https://kate-editor.org/get-it/">Kate (text editor)</a></li>
<br>
<li><a target="_blank" rel="external noopener noreferrer"
href="http://meldmerge.org/">Meld (visual diff/merge)</a></li>
<br>
</ul>
<hr></details>


<!-- input box buttons -->
<br><details><summary>Input box buttons on [Menu]&gt;[Actions]</summary>
<div class="indentdiv"><br>
Closing or refreshing the browser tab will lose any content added into
the [Action] text boxes.<br>
<br>
These buttons are on the left of each text input box:<br>
<ul>
<br>
<li>&#x25A3;ro Indicates the box is readonly, click to toggle.</li>
<br>
<li>[View] the user.js (that you pasted/loaded into the text box) with
some nice HTML formatting. &nbsp;[Menu]&gt;"View+ style on view" is on by
default, this shows in-block comments as in-line comments, to make inactive
user_pref within /*multi-line commented*/ sections show prefixed with //,
and with arkenfox/user.js this also adds some extra line spacing.&nbsp; If you
toggle [Menu]&gt;"View+ style on view" it is effective on the next use of a
[View] button.</li>
<br>
<li>[Table View] for viewing the user.js in a table format.&nbsp;
Shows the user.js (that you pasted/loaded into a text box) with
some nice HTML formatting. Mainly for arkenfox/user.js.</li>
<br>
<li>[&#x25BE;Load/Save] Load file(s) into the box(es) (eg user.js,
user-overrides.js). &nbsp;Opens the browser file selection dialog.
&nbsp;Select a single local .js file to load into the current text box, or
multiple file selections for loading into the corresponding text boxes.
(Also see Loading content info above)<br><br>
Save the box contents as a file (Desktop Firefox allows you to
choose the location and file name).</li>
<br>
<li>[Select] highlight all text in the box.</li>
<br>
<li>[Clear] the text in the box (and switch readonly off).</li>
</ul>
<br></div><hr></details>


<!-- actions buttons -->
<br><details><summary>Actions buttons on [Menu]&gt;[Actions]</summary>
<div class="indentdiv"><br>

These action buttons are below the text input boxes. &nbsp;The numbers on
the buttons indicate the input&gt;output boxes, contents of the output box
are usually replaced, [Collect] amends the output box.<br>

<!-- Actions - [Compare] -->

<br>
<details><summary>[&#x25BE;Compare]</summary>
<div class="indentdiv"><br>
Display a table highlighting the user_pref differences between two boxes
and show a summary, output into the view area. &nbsp;If a user_pref appears
twice the most recent active value takes priority, and is shown in the table.
&nbsp;You might also want to see this PowerShell alternative:
<a target="_blank" rel="external noopener noreferrer"
href="https://github.com/claustromaniac/Compare-UserJS"
>https://github.com/claustromaniac/Compare-UserJS &#128570;</a>.
<br><br>
Display options:<br><br>
<ul>
  <li>[Group x6] (by value/state)</li>
  <li>[Group x12] (by value/state/active/inactive)</li>
  <li>[Multiple] (by multiple occurrence/alphabetical)</li>
  <li>[A-Z] (by alphabetical)</li>
  <li>[Unsorted] (by order found)</li>
  <li>[DiffStr] (string difference)
    <br>&nbsp;&nbsp;(Uses an embedded 3rd party library, see Help/Acknowledgments)
    <br>&nbsp;&nbsp;(It is better to use file comparison software, eg meld)
  </li>
  <li>[Layout] (change table between 5columnx1row 3columnx2row 2columnx2row)</li>
</ul>
</div></details>

<!-- Actions - [Append] -->

<br>
<details><summary>[Append 1+2&gt;3]</summary>
<div class="indentdiv"><br>

Take the user-template.js (eg arkenfox/user.js) (from Box 1) and
append your user-overrides.js (from Box 2), place the result into Box 3.
<br><br>
This will also process any lines from Box 2 of the format:
<u>//// --- comment-out --- 'prefname.goes.here'</u> as they occur, ie any
user_pref with that name in the output so far will be "inactivated",
commented out with "////COMMENT-OUT:". &nbsp;Care: if you comment out prefs
you may also have to manually reset their value in about:config.
<br><br>
If your user-overrides.js contains a line that reads:
<u>//// --- add-override-comment ---</u> then the tag "////OVERRIDE:" will
be placed in front of any overridden user_pref in the user.js output.
<br><br>
"////COMMENT-OUT:" and "////OVERRIDE:" tags are displayed inverted
when using the viewer so they stand out.
<br><br>
Note: any in-block/multi-line comments (/*...*/) in the user-overrides.js are
recognized, user_pref within those comments are inactive, and appear in the
appended user-overrides.js part of the output as in-line comments (//).
</div></details>

<!-- Actions - [Collect] -->

<br>
<details><summary>[Collect 1&gt;+2]</summary>
<div class="indentdiv"><br>
Helps to create a user-overrides.js, by allowing point/click/edit collection
of user_pref. (Note: this is very basic)
<br><br>
It first takes you into the usual viewing of Box 1 content, with the
added ability to:
<br><br>
click on the word "user_pref" (to toggle collection of either
<u>//// --- comment-out --- 'prefname.goes.here'</u> or of an active user_pref)
(note: comment-out is a reminder to prompt you to make sure that pref gets
inactivated in your user.js)
<br><br>
click on the user_pref "value" (to collect the user_pref with a new
value, toggles boolean, input box for integer/string).
<br><br>
This does not change Box 1 content, the 'amendments' are just collected in Box 2.
<br><br>
The "Actions" panel is displayed with reduced size for viewing of
Box 2 changes, press the yellow [End Collect] button when you have finished
(shown next to [Overrides] box only during collect, scroll the actions panel
or click [<b>&lt;</b>Back] if it is out of view).
<br><br>
Box 2 [Select] button becomes [Select+], and the first instance
of the pref name toggled is selected, if you wish to select all click
elsewhere in the box and click the select button again.
</div></details>

<!-- Actions - [Skeleton] -->

<br>
<details><summary>[Skeleton 1&gt;2]</summary>
<div class="indentdiv"><br>
Create a skeleton for a user-overrides.js. &nbsp;Reduce the user-template.js
(from Box 1) to headings and commented user_pref, place the result into Box 2.
</div></details>

<!-- Actions - [Reduce] -->

<br>
<details><summary>[Reduce 1&gt;4]</summary>
<div class="indentdiv"><br>
Reduce the user-template.js (from Box 1) to headings and user_pref lines only,
place the result into Box 4.
</div></details>

<!-- Actions - [Clean] -->

<br>
<details><summary>[Clean 4-3&gt;4]</summary>
<div class="indentdiv"><br>
Remove user_pref from prefs.js in Box 4, based on the active and
inactive user_pref from user.js in Box 3.

<br><br>Use with care, this might clean more (or even less) than
you expect.&nbsp; Do not replace your prefs.js while Firefox is
running, and rename the old file as a backup.

<br><br>The arkenfox/user.js pref cleaner scripts are a better way
to do this, read at the arkenfox/user.js/wiki, note the pros/cons.
</div></details>

<!-- Actions - [By Value] -->

<br>
<details><summary>[By Value 3&gt;4]</summary>
<div class="indentdiv"><br>
Take the user.js from box 3 and arrange the user_pref by values, output into box
4. &nbsp;This shows the user_pref ordered by active/inactive: false, true, 0,
1, 2, other integer, empty string, other string.
<br><br>
Any re-occurring user_pref in the user.js will only show once with most recent
active value priority.
<br><br>
This is mainly intended as an aid if manually reviewing user.js settings on
Android Firefox (although you may be able to inject user.js to Android via
PC (about:debugging) see the [Menu]&gt;[Actions]&gt;[a:c Functions] button and
the arkenfox/user.js/wiki).
<br><br>
The idea is that you can use the about:config?filter= links under [Groups]
to bulk display user_pref that require a similar value, these links can
be long pressed to copy and then pasted in the about:config search. &nbsp;
Remember that hidden preferences will only show if they have been user created.
</div></details>

<!-- Actions - [To Group] -->

<br>
<details><summary>[To Group 4&gt;4]</summary>
<div class="indentdiv"><br>
Convert a list of user preferences in Box 4 to an about:config?filter= group,
place output into Box 4. &nbsp;If you have a bunch of favorite preferences,
place the list into Box 4 and turn them into an about:config link that
displays that group of preferences. &nbsp;The list can be newline, space,
comma, or other separated.
</div></details>

<!-- Actions - [Encode] -->

<br>
<details><summary>[&#x25BE;Encode 4&gt;4]</summary>
<div class="indentdiv"><br>
Various encode/decode options (eg Base64, URI), performed on the contents
of Box 4 (input/output on Box 4).
&nbsp;Encode to multi line Base64 if you are going to save user.js data
into the <body> section (near the end) of this HTML file, because
you want it to display when this HTML is opened. (Not
recommended, as needs constant maintaining, better to just
[Load]/paste fresh content).
</div></details>

<br>
<details><summary>[a:c Functions]</summary>
<div class="indentdiv"><br>
Show JavaScript functions for Mozilla Firefox/Thunderbird about:config,
and information on how to use them. &nbsp;To find (filter/list)/reset/set
user preferences and values.
&nbsp;Use [Menu]&gt;[Actions], or [<b>&lt;</b>Back] button to return.
</div></details>

<!-- Actions - [Links] -->

<br>
<details><summary>[Links]</summary>
<div class="indentdiv"><br>
Display some useful links (arkenfox/user.js, profile locations). &nbsp;The
button takes you to [Menu]&gt;[Links].
&nbsp;Use [Menu]&gt;[Actions], or [<b>&lt;</b>Back] button to return.
</div></details>

<br></div><hr></details>

<br><br><br><br><br></div><!-- end: help_panel -->




</DL></DL>

<!--
[base64 encoded] Functions for about:config (find (filter/list)/reset/set)
https://raw.githubusercontent.com/icpantsparti2/firefox-user.js-tool/master/userjs-tool-aboutconfig-functions.js
-->
<div id="base64_aboutconfig_functions" class="hidden">
Ly8gSmF2YVNjcmlwdCBmdW5jdGlvbnMgZm9yIE1vemlsbGEgRmlyZWZveC9UaHVuZGVyYmlyZCBh
Ym91dDpjb25maWcKLy8gdXNlciBwcmVmZXJlbmNlcyBhbmQgdmFsdWVzOiBmaW5kIChmaWx0ZXIv
bGlzdC9zYXZlL2RlZmF1bHRzKS9yZXNldC9zZXQKLy8KLy8gTmFtZSAgICAgICAgIDogdXNlcmpz
LXRvb2wtYWJvdXRjb25maWctZnVuY3Rpb25zLmpzCi8vIFByb2plY3QgICAgICA6IGh0dHBzOi8v
Z2l0aHViLmNvbS9pY3BhbnRzcGFydGkyL2ZpcmVmb3gtdXNlci5qcy10b29sCi8vIFZlcnNpb24g
ICAgICA6IDIwMjIuMDMuMTUgKDIwMjEuMDMuMTEpIChhbHBoYS9leHBlcmltZW50YWwpCi8vIEZp
bGUvVXBkYXRlICA6IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9pY3BhbnRzcGFy
dGkyL2ZpcmVmb3gtdXNlci5qcy10b29sL21hc3Rlci91c2VyanMtdG9vbC1hYm91dGNvbmZpZy1m
dW5jdGlvbnMuanMKLy8gTGljZW5zZSAoTUlUKTogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRl
bnQuY29tL2ljcGFudHNwYXJ0aTIvZmlyZWZveC11c2VyLmpzLXRvb2wvbWFzdGVyL0xJQ0VOU0UK
Ly8gRGlzY2xhaW1lciAgIDogVXNlIHdpdGggY2FyZSBhdCB5b3VyIG93biByaXNrLCBhbmQgdmVy
aWZ5IGFueSByZXN1bHRzCi8vCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gUGFzdGUgdGhl
IHRleHQgZnJvbSB0aGlzIGZpbGUgaW50byB0aGUgY29uc29sZSB0byBhZGQgdGhlIGZ1bmN0aW9u
cyB0ZW1wb3JhcmlseQovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIEZpcmVmb3g6IG9wZW4g
J2Fib3V0OmNvbmZpZycgdGhlbiBXZWIgQ29uc29sZSAoQ3RybCtTaGlmdCtLKQovLyBBbmRyb2lk
L1JlbW90ZTogJ2Fib3V0OmRlYnVnZ2luZycgb24gUEMsICdhYm91dDpjb25maWcnIG9uIHRhcmdl
dCBkZXZpY2UKLy8gVGh1bmRlcmJpcmQ6IE1lbnU+VG9vbHM+RGV2ZWxvcGVyIFRvb2xzPkVycm9y
IENvbnNvbGUgKEN0cmwrU2hpZnQrSikKLy8gVGh1bmRlcmJpcmQvT3RoZXI6IFRvb2xzPkRldmVs
b3BlciBUb29scz5Db250ZW50IEZyYW1lIERlYnVnZ2VyPlRhYnM+RGVidWc+Q29uc29sZQovLyBP
ciBsb2FkIHNhdmVkIGZpbGUgaW4gdGhlIGNvbnNvbGUgd2l0aDoKLy8gamF2YXNjcmlwdDooKCk9
Pnt3aXRoKGRvY3VtZW50KXtsZXQgcz1jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtzLnNyYz0nZmls
ZTovLy9ZT1VSUEFUSC91c2VyanMtdG9vbC1hYm91dGNvbmZpZy1mdW5jdGlvbnMuanMnO2hlYWQu
YXBwZW5kQ2hpbGQocyl9fSkoKTsKLy8KLy8gLS0tLS0tLQovLyBTdW1tYXJ5Ci8vIC0tLS0tLS0K
Ly8gRnVuY3Rpb246IHVqdEZpbmRQcmVmKCB7IHN0eWxlOjAsIG5hbWU6Ly4qL2ksIHZhbHVlOi8u
Ki9pLCB0eXBlOi9bYmlzXS8sIGxvY2tlZDovW3luXS8sIG1vZGlmaWVkOi9beW5dLywgYXNkZWZh
dWx0Oi9beW5dLywgbm9kZWZhdWx0Oi9beW5dLywgZmlsZW91dDpmYWxzZSB9ICk7Ci8vIEZ1bmN0
aW9uOiB1anRSZXNldFByZWYocHJlZik7Ci8vIEZ1bmN0aW9uOiB1anRTZXRQcmVmKHByZWYsIHZh
bHVlKTsKLy8gQWxpYXMgICA6IHVzZXJfcHJlZiA9IHVqdFNldFByZWY7ICAvLyBzZWUgbm90ZXMK
Ly8KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gdWp0RmluZFByZWYgRXhhbXBsZXMKLy8gLS0t
LS0tLS0tLS0tLS0tLS0tLS0KLy8gICB1anRGaW5kUHJlZigpOyAgICAgICAgICAgICAgICAgICAg
ICAgIC8vIHNob3cgc29tZSB1c2FnZSBpbmZvCi8vICAgdWp0RmluZFByZWYoMik7ICAgICAgICAg
ICAgICAgICAgICAgICAvLyBsaXN0IGFsbCArIHNhdmUgdG8gZmlsZSAoc3ByZWFkc2hlZXQgc3R5
bGUpCi8vICAgdWp0RmluZFByZWYoe3N0eWxlOjMsZmlsZW91dDp0cnVlfSk7ICAvLyBsaXN0IGFs
bCArIHNhdmUgdG8gZmlsZSAodXNlcl9wcmVmK2NvbW1lbnRzIHN0eWxlKQovLyAgIHVqdEZpbmRQ
cmVmKHttb2RpZmllZDoveS99KTsgICAgICAgICAgICAgICAgLy8gc2hvdyBtb2RpZmllZAovLyAg
IHVqdEZpbmRQcmVmKHttb2RpZmllZDoveS8sYXNkZWZhdWx0Oi95L30pOyAgLy8gc2hvdyBtb2Rp
ZmllZD1kZWZhdWx0Ci8vICAgdWp0RmluZFByZWYoe25vZGVmYXVsdDoveS99KTsgICAgICAgICAg
ICAgICAvLyBzaG93IFRyYXNoIENhbiBQcmVmcyBlZyBoaWRkZW4vaW52YWxpZAovLyAgIHVqdEZp
bmRQcmVmKHtsb2NrZWQ6L3kvfSk7ICAgICAgICAgICAgICAgICAgLy8gc2hvdyBsb2NrZWQKLy8g
ICB1anRGaW5kUHJlZih7dmFsdWU6L2dvb2dsZS9pfSk7ICAgICAgICAgICAgIC8vIGZpbmQgdmFs
dWUKLy8gICB1anRGaW5kUHJlZih7bW9kaWZpZWQ6L3kvLHR5cGU6L2IvLHZhbHVlOi9eZmFsc2Uk
L2l9KTsgIC8vIHNob3cgbW9kaWZpZWQgYm9vbGVhbiBmYWxzZQovLyAgIHVqdEZpbmRQcmVmKHtz
dHlsZTozLG5hbWU6L2FjdGl2aXR5LXN0cmVhbS9pfSk7ICAgICAgICAgICAgICAgICAgICAgLy8g
cGFydCBuYW1lCi8vICAgdWp0RmluZFByZWYoe3N0eWxlOjMsbmFtZTovXmV4dGVuc2lvbnNcLnBv
Y2tldFwuZW5hYmxlZCQvaX0pOyAgICAgICAvLyB3aG9sZSBuYW1lCi8vICAgdWp0RmluZFByZWYo
e3N0eWxlOjMsbmFtZTovXih3aG9sZXxzdGFydC4qfC4qbWlkZGxlLip8LiplbmQpJC9pfSk7ICAv
LyBtdWx0aSBuYW1lCi8vCi8vIC0tLS0tLS0tLS0tLS0KLy8gR2VuZXJhbCBOb3RlcwovLyAtLS0t
LS0tLS0tLS0tCi8vICAgKiBvbiBjb25zb2xlIHJpZ2h0IGNsaWNrIHJlc3VsdHMgIkNvcHkgb2Jq
ZWN0IiAvIGxlZnQgY2xpY2sgZXhwYW5kL2NvbnRyYWN0Ci8vICAgICAoaWYgcmVzdWx0cyBkbyBu
b3QgY29weSB0byBjbGlwYm9hcmQgdHJ5ICJFeHBvcnQgdmlzaWJsZSBtZXNzYWdlcyB0byBGaWxl
IiwKLy8gICAgIG9yIHVqdEZpbmRQcmVmIGhhcyBmaWxlb3V0OnRydWUgdG8gc2F2ZSByZXN1bHRz
IHRvIGEgZmlsZSkKLy8gICAqIGNsZWFyIGNvbnNvbGUvY29tbWFuZCBoaXN0b3J5OiAgY2xlYXIo
KTsgIGNsZWFySGlzdG9yeSgpOwovLyAgICogVGh1bmRlcmJpcmQgKGNvbnNvbGUpIG9wZW4gYWJv
dXQ6Y29uZmlnOiB3aW5kb3cub3BlbkRpYWxvZygiYWJvdXQ6Y29uZmlnIik7Ci8vICAgKiBpZiB1
c2luZyByZW1vdGUgZGVidWdnaW5nIHRvIGFjY2VzcyBhbm90aGVyIGRldmljZSAoZWcgQW5kcm9p
ZCk6Ci8vICAgICBQQzogdXNlICdhYm91dDpkZWJ1Z2dpbmcnIChvbGRlciBGaXJlZm94IHdhcyBX
ZWJJREUvU2NyYXRjaHBhZCkKLy8gICAgIFRhcmdldDogJ2Fib3V0OmNvbmZpZycgb3BlbiwgIlJl
bW90ZSBkZWJ1Z2dpbmciIGVuYWJsZWQgaW4gRmlyZWZveCBzZXR0aW5ncwovLyAgICAgICAgICAg
ICAiVVNCIGRlYnVnZ2luZyIgZW5hYmxlZCBpbiBBbmRyb2lkIERldmVsb3BlciBzZXR0aW5ncwov
LyAgICAgcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9hcmtlbmZveC91c2VyLmpzL3dpa2kvMS42LUZp
cmVmb3gtQW5kcm9pZAovLyAgICAgYWxzbyByZSBhcmtlbmZveC91c2VyLmpzL3dpa2k6IHVuYmxv
Y2sgYWJvdXQ6Y29uZmlnIGluIG5ld2VyIHZlcnNpb25zIChGRjcxKz8pOgovLyAgICAgdXNlcl9w
cmVmKCJnZW5lcmFsLmFib3V0Q29uZmlnLmVuYWJsZSIsIHRydWUpOwovLyAgICogZnVuY3Rpb25z
IG1pZ2h0IGFsc28gd29yayB0aHJvdWdoIEJyb3dzZXIvRXJyb3IgQ29uc29sZSAoQ3RybCtTaGlm
dCtKKQovLyAgICogc2V0ICd1c2VyX3ByZWYnIGFsaWFzIGlmIHlvdSB3YW50IHRvIHBhc3RlICd1
c2VyLmpzJyBjb2RlIHRvIHJ1biBhIGZ1bmN0aW9uCi8vICAgICBlZyBlbnRlciAndXNlcl9wcmVm
ID0gdWp0U2V0UHJlZjsnIG9yICd1c2VyX3ByZWYgPSB1anRSZXNldFByZWY7JwovLyAgICogZGlz
dHJpYnV0aW9uL3BvbGljaWVzLmpzb24gY2FuIGNoYW5nZSBwcmVmZXJlbmNlIGRlZmF1bHQgdmFs
dWVzIChhYm91dDpwb2xpY2llcykKLy8gICAqIGhpZGRlbiBwcmVmZXJlbmNlcyBvbmx5IHNob3cg
aWYgdGhleSBoYXZlIGJlZW4gY3JlYXRlZC9tb2RpZmllZCAoc2FtZSBhcyBhYm91dDpjb25maWcp
Ci8vICAgICBleGFtcGxlczogaHR0cHM6Ly9zZWFyY2hmb3gub3JnL21vemlsbGEtY2VudHJhbC9z
ZWFyY2g/cT0oZXh0ZW5zaW9uc1wuZ2V0QWRkb25zXC5zaG93UGFuZXxwcml2YWN5XC5yZXNpc3RG
aW5nZXJwcmludGluZ1wubGV0dGVyYm94aW5nfHVpXC5wcmVmZXJzUmVkdWNlZE1vdGlvbikmcGF0
aD0mY2FzZT1mYWxzZSZyZWdleHA9dHJ1ZQovLwovLyAtLS0tLS0tLS0tLS0tLS0tLQovLyB1anRG
aW5kUHJlZiBOb3RlcwovLyAtLS0tLS0tLS0tLS0tLS0tLQovLyAgICogdWp0RmluZFByZWYoIHsg
c3R5bGU6MCwgbmFtZTovLiovaSwgdmFsdWU6Ly4qL2ksIHR5cGU6L1tiaXNdLywgbG9ja2VkOi9b
eW5dLywgbW9kaWZpZWQ6L1t5bl0vLCBhc2RlZmF1bHQ6L1t5bl0vLCBub2RlZmF1bHQ6L1t5bl0v
LCBmaWxlb3V0OmZhbHNlIH0gKTsKLy8gICAqIHN0eWxlOgovLyAgICAgICAwPXJlZ2V4ICAgICAo
ZGVmYXVsdCkgcGFzdGUgcmVzdWx0IGludG8gdGhlIGFib3V0OmNvbmZpZyBzZWFyY2ggYm94Ci8v
ICAgICAgIDE9Ym9va21hcmsgICdhYm91dDpjb25maWc/ZmlsdGVyPScgKEZGNzErIGNvcHksIGNs
aWNrLCBwYXN0ZSBpbiBzZWFyY2gpCi8vICAgICAgIDI9bGlzdCtkZWZhdWx0ICAgICAgICBwYXN0
ZSBpbnRvIGEgc3ByZWFkc2hlZXQgZm9yIHNvcnQvZmlsdGVyL3NlYXJjaAovLyAgICAgICAzPXVz
ZXJfcHJlZitjb21tZW50cyAgdXNlcl9wcmVmKCJwcmVmIiwgdmFsdWUpOyAgLy8gbG9ja2VkICAv
LyBtb2RpZmllZCAgLy8gbm9kZWZhdWx0Ci8vICAgICAgIDQ9dXNlcl9wcmVmICAgICAgICAgICB1
c2VyX3ByZWYoInByZWYiLCB2YWx1ZSk7Ci8vICAgICAgIDU9dXNlcl9wcmVmQGRlZmF1bHQgICB1
c2VyX3ByZWYoInByZWYiLCB2YWx1ZURlZmF1bHQpOwovLyAgICogdHlwZTogYj1ib29sZWFuIGk9
aW50ZWdlciBzPXN0cmluZwovLyAgICogbG9ja2VkL21vZGlmaWVkL2FzZGVmYXVsdC9ub2RlZmF1
bHQ6IHk9eWVzIG49bm8KLy8gICAqIG1vZGlmaWVkOi95LyAtIHVzZXIgc2V0IHByZWZlcmVuY2Vz
IChlZyB1c2VyLmpzL2Fib3V0OmNvbmZpZy9ldGMpCi8vICAgICB7bW9kaWZpZWQ6L3kvLGFzZGVm
YXVsdDoveS99IC0gZmluZHMgdGhvc2UgdXNlciBzZXQgdG8gc2FtZSBhcyBkZWZhdWx0Ci8vICAg
KiBhc2RlZmF1bHQ6L3kvIC0gaWYgcHJlZmVyZW5jZSB2YWx1ZSBpcyB0aGUgc2FtZSBhcyB0aGUg
ZGVmYXVsdCB2YWx1ZQovLyAgICogbm9kZWZhdWx0Oi95LyAtIHByZWZzIHdpdGggYSB0cmFzaCBj
YW4gaWNvbiBvbiBhYm91dDpjb25maWcgZWcgaGlkZGVuL2ludmFsaWQKLy8gICAqIGZpbGVvdXQ6
dHJ1ZSAtIHNhdmUgcmVzdWx0cyB0byBkZXNrdG9wIHVzZXJqcy10b29sLWFib3V0Y29uZmlnLVlZ
WVlNTURELUhITU1TUy1TU1MudHh0Ci8vICAgKiByZXR1cm4gYW5kIG5ld2xpbmUgY2hhcmFjdGVy
cyBpbiBwcmVmZXJlbmNlIHZhbHVlcyBhcmUgcmVwbGFjZWQgYXMgXHIgXG4KLy8gICAqIG5vdyB1
c2luZyBTZXJ2aWNlcy5wcmVmcy5nZXRDb21wbGV4VmFsdWUgdG8gbG9vayB1cCB0aGUgdmFsdWUg
b2YKLy8gICAgIHByZWZlcmVuY2VzIHdoaWNoIGFyZSBpbml0aWFsbHkgcmVhZCBhcyAiY2hyb21l
Oi4uLiIKLy8KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gdWp0U2V0UHJlZi91
anRSZXNldFByZWYgTm90ZXMKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gICAq
IHRoZXNlIHdlcmUgbWFpbmx5IGludGVuZGVkIGZvciB3aGVuIGluamVjdGluZyBwcmVmZXJlbmNl
cyB0byBBbmRyb2lkCi8vICAgKiBvbiBkZXNrdG9wIHlvdSB3b3VsZCB1c3VhbGx5IHVzZSB1c2Vy
LmpzL3Byb2ZpbGVzIGZvciBwcmVmZXJlbmNlIGNvbnRyb2wKLy8gICAgIChhbHRob3VnaCB1anRS
ZXNldFByZWYgY291bGQgYmUgdXNlZnVsIGZvciBiYXRjaCBjbGVhcmluZyBwcmVmcykKLy8gICAq
IGluY29ycmVjdCB1c2FnZSByaXNrcyBtZXNzaW5nIHVwIHlvdXIgRmlyZWZveCBzZXR0aW5ncyAo
aWYgeW91IGFyZSB1c2luZwovLyAgICAgdGhpcyBvbiBkZXNrdG9wOiBiYWNrdXAgeW91ciBGaXJl
Zm94IHByb2ZpbGUsIG9yICdwcmVmcy5qcycgYXQgbGVhc3QsCi8vICAgICBhbmQgcmVtZW1iZXIg
dGhhdCB1c2VyLmpzIGNhbiBvdmVycmlkZSBjaGFuZ2VzIG9uIEZpcmVmb3ggcmVzdGFydCkKLy8g
ICAqIHVqdFNldFByZWYgb3V0cHV0cyAnY3JlYXRpbmcnIHRvIHRoZSBjb25zb2xlIHdoZW4gdGhl
IHByZWZlcmVuY2UgZGlkCi8vICAgICBub3QgYWxyZWFkeSBleGlzdCAodGhlc2UgYXJlIGVpdGhl
ciBoaWRkZW4gcHJlZmVyZW5jZXMsIG9yIGludmFsaWQpCi8vCi8vIC0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gQWNrbm93bGVkZ21lbnRzICh0aGlz
IGlzIGJhc2VkIG9uIGluZm8vY29kZSBmcm9tKQovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vICAgMjAyMi4wMy4xMiBwcm9qZWN0IGZvcmtlZCBm
cm9tIHRoZSBkb3JtYW50IGFjY291bnQgb2YKLy8gICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9pY3Bh
bnRzcGFydGkgYW5kIGNvbnRpbnVlcyBieSB0aGUgc2FtZQovLyAgICAgbWFpbnRhaW5lciB1bmRl
ciBodHRwczovL2dpdGh1Yi5jb20vaWNwYW50c3BhcnRpMgovLyAgIGh0dHBzOi8vZ2l0aHViLmNv
bS9hcmtlbmZveC91c2VyLmpzCi8vICAgICBodHRwczovL2dpdGh1Yi5jb20vYXJrZW5mb3gvdXNl
ci5qcy93aWtpLzEuNi1GaXJlZm94LUFuZHJvaWQKLy8gICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9h
cmtlbmZveC91c2VyLmpzL3RyZWUvbWFzdGVyL3NjcmF0Y2hwYWQtc2NyaXB0cwovLyAgICAgaHR0
cHM6Ly9naXRodWIuY29tL2Fya2VuZm94L3VzZXIuanMvYmxvYi9tYXN0ZXIvc2NyYXRjaHBhZC1z
Y3JpcHRzL2Fya2VuZm94LWNsZWFyLXJlbW92ZWQuanMKLy8gICAgIGh0dHBzOi8vZ2l0aHViLmNv
bS9hcmtlbmZveC91c2VyLmpzL2Jsb2IvbWFzdGVyL3NjcmF0Y2hwYWQtc2NyaXB0cy90cm91Ymxl
c2hvb3Rlci5qcwovLyAgIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM3OTYw
ODQvYWJvdXQtY29uZmlnLXByZWZlcmVuY2VzLWFuZC1qcwovLyAgIGh0dHBzOi8vZGV2ZWxvcGVy
Lm1vemlsbGEub3JnL2VuLVVTL2RvY3MvTW96aWxsYS9KYXZhU2NyaXB0X2NvZGVfbW9kdWxlcy9T
ZXJ2aWNlcy5qc20KLy8gICBodHRwOi8vd3d3Lm9wZW5qcy5jb20vYXJ0aWNsZXMvb3B0aW9uYWxf
ZnVuY3Rpb25fYXJndW1lbnRzLnBocAovLyAgIGh0dHBzOi8vZHhyLm1vemlsbGEub3JnL21vemls
bGEtY2VudHJhbC9zb3VyY2UvbW9kdWxlcy9saWJwcmVmL25zSVByZWZCcmFuY2guaWRsIzMxCi8v
ICAgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9BcmNoaXZlL0FkZC1v
bnMvQ29kZV9zbmlwcGV0cy9GaWxlX0lfTwovLyAgIGh0dHBzOi8vZ2l0aHViLmNvbS9UaGVlbWlt
L0dlY2tvUHJlZnNFeHBvcnRlciAgIChmaWxlIG91dCBtZXRob2QpCgppZiAodHlwZW9mKFNlcnZp
Y2VzKSA9PSAidW5kZWZpbmVkIikgewogIGNvbnNvbGUubG9nKCIvLyByZXF1aXJlcyBTZXJ2aWNl
cyAoZWcgYWJvdXQ6Y29uZmlnIGFzIGFjdGl2ZSB0YWIpIik7Cn0KCi8vIG9sZGVyIHZlcnNpb25z
IG9mIEZpcmVmb3gvZm9ya3MvVGh1bmRlcmJpcmQvU2VhTW9ua2V5IHVzZSAuLi5DaGFyUHJlZgp0
cnkgewogIHZhciB1anRVc2VDaGFyUHJlZiA9ICEodHlwZW9mKFNlcnZpY2VzLnByZWZzLmdldFN0
cmluZ1ByZWYpID09ICJmdW5jdGlvbiIpOwp9CmNhdGNoKGUpIHsgfQoKdmFyIHVqdEZpbmRQcmVm
ID0gZnVuY3Rpb24ob3B0aW9ucykgewogIHZhciByZXN1bHQgPSAiIjsKICBpZiAodHlwZW9mIG9w
dGlvbnMgPT0gInVuZGVmaW5lZCIpIHsKICAgIG9wdGlvbnMgPSB7ICdmaWxlb3V0JzogZmFsc2Ug
fTsKICAgIC8vIGlmIG5vIG9wdGlvbnMgc3BlY2lmaWVkIHNob3cgc29tZSB1c2FnZSBpbmZvCiAg
ICByZXN1bHQgPSAiLy8gdXNhZ2U6XG4iCiAgICAgICsgJy8vIHVqdEZpbmRQcmVmKCB7IHN0eWxl
OjAsIG5hbWU6Ly4qL2ksIHZhbHVlOi8uKi9pLCB0eXBlOi9bYmlzXS8sIGxvY2tlZDovW3luXS8s
IG1vZGlmaWVkOi9beW5dLywgYXNkZWZhdWx0Oi9beW5dLywgbm9kZWZhdWx0Oi9beW5dLywgZmls
ZW91dDpmYWxzZSB9ICk7XG4nCiAgICAgICsgJy8vIHN0eWxlOiAwPXJlZ2V4IDE9Ym9va21hcmsg
Mj1saXN0K2RlZmF1bHQgMz11c2VyX3ByZWYrY29tbWVudHMgND11c2VyX3ByZWYgNT11c2VyX3By
ZWZAZGVmYXVsdFxuJwogICAgICArICcvLyBiPWJvb2xlYW4gaT1pbnRlZ2VyIHM9c3RyaW5nIHk9
eWVzIG49bm9cbicKICAgICAgKyAnLy8gZWcgdWp0RmluZFByZWYoMik7IHVqdEZpbmRQcmVmKHtz
dHlsZTozLGZpbGVvdXQ6dHJ1ZX0pOyB1anRGaW5kUHJlZih7bW9kaWZpZWQ6L3kvfSk7IHVqdEZp
bmRQcmVmKHtub2RlZmF1bHQ6L3kvfSk7XG4nOwogIH0KICBlbHNlIHsKICAgIC8vIGZ1bmN0aW9u
IHRvIGdldCB0aGUgZGVmYXVsdCB2YWx1ZSBvZiBhIHByZWZlcmVuY2UKICAgIHZhciB1anRHZXRQ
cmVmRGVmYXVsdCA9IGZ1bmN0aW9uKHByZWZOYW1lKSB7CiAgICAgIHZhciBkZWZhdWx0VmFsdWU7
CiAgICAgIHRyeSB7CiAgICAgICAgc3dpdGNoIChTZXJ2aWNlcy5wcmVmcy5nZXREZWZhdWx0QnJh
bmNoKCIiKS5nZXRQcmVmVHlwZShwcmVmTmFtZSkpIHsKICAgICAgICAgIGNhc2UgMTI4OgogICAg
ICAgICAgICBkZWZhdWx0VmFsdWUgPSBTZXJ2aWNlcy5wcmVmcy5nZXREZWZhdWx0QnJhbmNoKCIi
KS5nZXRCb29sUHJlZihwcmVmTmFtZSkudG9TdHJpbmcoKTsKICAgICAgICAgICAgYnJlYWs7CiAg
ICAgICAgICBjYXNlIDY0OgogICAgICAgICAgICBkZWZhdWx0VmFsdWUgPSBTZXJ2aWNlcy5wcmVm
cy5nZXREZWZhdWx0QnJhbmNoKCIiKS5nZXRJbnRQcmVmKHByZWZOYW1lKS50b1N0cmluZygpOwog
ICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgMzI6CiAgICAgICAgICAgIGRlZmF1bHRW
YWx1ZSA9IHVqdFVzZUNoYXJQcmVmID8gU2VydmljZXMucHJlZnMuZ2V0RGVmYXVsdEJyYW5jaCgi
IikuZ2V0Q2hhclByZWYocHJlZk5hbWUpCiAgICAgICAgICAgICAgOiBTZXJ2aWNlcy5wcmVmcy5n
ZXREZWZhdWx0QnJhbmNoKCIiKS5nZXRTdHJpbmdQcmVmKHByZWZOYW1lKTsKICAgICAgICAgICAg
YnJlYWs7CiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAg
ICB9CiAgICAgIH0KICAgICAgY2F0Y2goZSkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9
CiAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7CiAgICB9CiAgICAvLyBwcmVwYXJlIGZvciBvcHRp
b25zIGJlaW5nIGEgc2luZ2xlIHJlZ2V4L3N0cmluZy9udW1iZXIKICAgIHZhciBub0FyZ3NNYXRj
aGVkID0gdHJ1ZSwgbmFtZU9ubHkgPSBvcHRpb25zLCBzdHlsZU9ubHkgPSAzLCBmaWxlT3V0RXgg
PSBmYWxzZTsKICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PSAic3RyaW5nIikgewogICAgICBuYW1l
T25seSA9IG5ldyBSZWdFeHAob3B0aW9ucywgImkiKTsKICAgICAgZmlsZU91dEV4ID0gdHJ1ZTsK
ICAgICAgb3B0aW9ucyA9IHt9OwogICAgfQogICAgZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMgPT0g
Im51bWJlciIpIHsKICAgICAgbmFtZU9ubHkgPSBuZXcgUmVnRXhwKCIuKiIsICJpIik7CiAgICAg
IHN0eWxlT25seSA9IG9wdGlvbnM7CiAgICAgIGZpbGVPdXRFeCA9IHRydWU7CiAgICAgIG9wdGlv
bnMgPSB7fTsKICAgIH0KICAgIC8vIGVuZm9yY2UgZGVmYXVsdHMgZm9yIHVuc3BlY2lmaWVkIG9w
dGlvbnMKICAgIHZhciBkZWZhdWx0QXJncyA9IHsgJ3N0eWxlJzogMCwgJ25hbWUnOiAvLiovLCAn
dmFsdWUnOiAvLiovLCAndHlwZSc6IC8uKi8sICdsb2NrZWQnOiAvLiovLAogICAgICAnbW9kaWZp
ZWQnOiAvLiovLCAnYXNkZWZhdWx0JzogLy4qLywgJ25vZGVmYXVsdCc6IC8uKi8sICdmaWxlb3V0
JzogZmFsc2UgfQogICAgZm9yKHZhciBpIGluIGRlZmF1bHRBcmdzKSB7CiAgICAgIGlmICh0eXBl
b2Ygb3B0aW9uc1tpXSA9PSAidW5kZWZpbmVkIikgewogICAgICAgIG9wdGlvbnNbaV0gPSBkZWZh
dWx0QXJnc1tpXTsKICAgICAgfQogICAgICBlbHNlIGlmICh0eXBlb2Ygb3B0aW9uc1tpXSA9PSAi
c3RyaW5nIikgewogICAgICAgIG9wdGlvbnNbaV0gPSBuZXcgUmVnRXhwKG9wdGlvbnNbaV0sICJp
Iik7CiAgICAgICAgbm9BcmdzTWF0Y2hlZCA9IGZhbHNlOwogICAgICB9CiAgICAgIGVsc2Ugewog
ICAgICAgIG5vQXJnc01hdGNoZWQgPSBmYWxzZTsKICAgICAgfQogICAgfQogICAgLy8gd2hlbiBv
cHRpb25zIHdhcyBhIHNpbmdsZSByZWdleC9zdHJpbmcvbnVtYmVyCiAgICBpZiAobm9BcmdzTWF0
Y2hlZCkgewogICAgICBvcHRpb25zWyJuYW1lIl0gPSBuYW1lT25seTsKICAgICAgb3B0aW9uc1si
c3R5bGUiXSA9IHN0eWxlT25seTsKICAgICAgb3B0aW9uc1siZmlsZW91dCJdID0gZmlsZU91dEV4
OwogICAgfQogICAgLy8gYmVnaW4gZm9ybWluZyByZXN1bHQKICAgIHN3aXRjaCAob3B0aW9uc1si
c3R5bGUiXSkgewogICAgICBjYXNlIDU6CiAgICAgICAgcmVzdWx0ID0gIi8vIGRlZmF1bHQgdmFs
dWVzXG4iOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlIDQ6CiAgICAgIGNhc2UgMzoKICAgICAg
ICBicmVhazsKICAgICAgY2FzZSAyOgogICAgICAgIHJlc3VsdCA9ICJbUHJlZmVyZW5jZU5hbWVd
XHRbVHlwZV1cdFtWYWx1ZV1cdFtMb2NrZWRdXHRbTW9kaWZpZWRdXHRbU2FtZUFzRGVmYXVsdF1c
dFtEZWZhdWx0VmFsdWVdXHRbTm9EZWZhdWx0XVxuIjsKICAgICAgICBicmVhazsKICAgICAgY2Fz
ZSAxOgogICAgICAgIHJlc3VsdCA9ICdhYm91dDpjb25maWc/ZmlsdGVyPSc7CiAgICAgIGRlZmF1
bHQ6CiAgICAgICAgcmVzdWx0ICs9ICcvXlxcKiR8XignOwogICAgfQogICAgLy8gbG9vcCB0aHJv
dWdoIGFsbCBwcmVmcwogICAgdmFyIHR5cGUsIHZhbHVlLCBsb2NrZWQsIG1vZGlmaWVkLCBhc0Rl
ZmF1bHQsIG5vRGVmYXVsdCwgdmFsdWVEZWZhdWx0OwogICAgLy8gc2FtZSBwcmVmczogU2Vydmlj
ZXMucHJlZnMuZ2V0RGVmYXVsdEJyYW5jaCgiIikuZ2V0Q2hpbGRMaXN0KCIiKS5zb3J0KCkKICAg
IC8vICAgICAgICAgICAgIFNlcnZpY2VzLnByZWZzLmdldEJyYW5jaCgiIikuZ2V0Q2hpbGRMaXN0
KCIiKS5zb3J0KCkKICAgIC8vICAgICAgICAgICAgIFNlcnZpY2VzLnByZWZzLmdldENoaWxkTGlz
dCgiIikuc29ydCgpCiAgICBmb3IgKGNvbnN0IHByZWZOYW1lIG9mIFNlcnZpY2VzLnByZWZzLmdl
dENoaWxkTGlzdCgiIikuc29ydCgpKSB7CiAgICAgIC8vIGdldCBwcmVmIGluZm8KICAgICAgbW9k
aWZpZWQgPSAoU2VydmljZXMucHJlZnMucHJlZkhhc1VzZXJWYWx1ZShwcmVmTmFtZSkgPyAneScg
OiAnbicpOwogICAgICBsb2NrZWQgPSAoU2VydmljZXMucHJlZnMucHJlZklzTG9ja2VkKHByZWZO
YW1lKSA/ICd5JyA6ICduJyk7CiAgICAgIHN3aXRjaCAoU2VydmljZXMucHJlZnMuZ2V0UHJlZlR5
cGUocHJlZk5hbWUpKSB7CiAgICAgICAgY2FzZSAxMjg6CiAgICAgICAgICB0eXBlID0gImIiOwog
ICAgICAgICAgdmFsdWUgPSBTZXJ2aWNlcy5wcmVmcy5nZXRCb29sUHJlZihwcmVmTmFtZSkudG9T
dHJpbmcoKTsKICAgICAgICAgIHZhbHVlRGVmYXVsdCA9IHVqdEdldFByZWZEZWZhdWx0KHByZWZO
YW1lKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgNjQ6CiAgICAgICAgICB0eXBlID0g
ImkiOwogICAgICAgICAgdmFsdWUgPSBTZXJ2aWNlcy5wcmVmcy5nZXRJbnRQcmVmKHByZWZOYW1l
KS50b1N0cmluZygpOwogICAgICAgICAgdmFsdWVEZWZhdWx0ID0gdWp0R2V0UHJlZkRlZmF1bHQo
cHJlZk5hbWUpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAzMjoKICAgICAgICAgIHR5
cGUgPSAicyI7CiAgICAgICAgICB2YWx1ZSA9IHVqdFVzZUNoYXJQcmVmID8gU2VydmljZXMucHJl
ZnMuZ2V0Q2hhclByZWYocHJlZk5hbWUpCiAgICAgICAgICAgIDogU2VydmljZXMucHJlZnMuZ2V0
U3RyaW5nUHJlZihwcmVmTmFtZSk7CiAgICAgICAgICB2YWx1ZURlZmF1bHQgPSB1anRHZXRQcmVm
RGVmYXVsdChwcmVmTmFtZSk7CiAgICAgICAgICAvLyBnZXQgdGhlIGFjdHVhbCB2YWx1ZSB3aGVu
ICJjaHJvbWU6Li4uIgogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYgKG1vZGlmaWVkID09
ICduJyAmJiAvXmNocm9tZTpcL1wvLitcL2xvY2FsZVwvLitcLnByb3BlcnRpZXMvLnRlc3QodmFs
dWUpKSB7CiAgICAgICAgICAgICAgdmFsdWUgPSBTZXJ2aWNlcy5wcmVmcy5nZXRDb21wbGV4VmFs
dWUocHJlZk5hbWUsIENpLm5zSVByZWZMb2NhbGl6ZWRTdHJpbmcpLmRhdGE7CiAgICAgICAgICAg
IH0KICAgICAgICAgIH0KICAgICAgICAgIGNhdGNoKGUpIHsgdmFsdWUgPSAiIjsgfQogICAgICAg
ICAgdHJ5IHsKICAgICAgICAgICAgaWYgKC9eY2hyb21lOlwvXC8uK1wvbG9jYWxlXC8uK1wucHJv
cGVydGllcy8udGVzdCh2YWx1ZURlZmF1bHQpKSB7CiAgICAgICAgICAgICAgdmFsdWVEZWZhdWx0
ID0gU2VydmljZXMucHJlZnMuZ2V0Q29tcGxleFZhbHVlKHByZWZOYW1lLCBDaS5uc0lQcmVmTG9j
YWxpemVkU3RyaW5nKS5kYXRhOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBj
YXRjaChlKSB7IHZhbHVlRGVmYXVsdCA9ICIiOyB9CiAgICAgICAgICBicmVhazsKICAgICAgICBk
ZWZhdWx0OgogICAgICAgICAgdmFsdWUgPSBudWxsOyB0eXBlID0gbnVsbDsgbG9ja2VkID0gbnVs
bDsgbW9kaWZpZWQgPSBudWxsOwogICAgICAgICAgYXNEZWZhdWx0ID0gbnVsbDsgbm9EZWZhdWx0
ID0gbnVsbDsgdmFsdWVEZWZhdWx0ID0gbnVsbDsKICAgICAgfQogICAgICBpZiAodmFsdWVEZWZh
dWx0ID09PSBudWxsKSB7IG5vRGVmYXVsdCA9ICJ5IjsgfSBlbHNlIHsgbm9EZWZhdWx0ID0gIm4i
OyB9OwogICAgICBpZiAodmFsdWUgPT09IHZhbHVlRGVmYXVsdCkgeyBhc0RlZmF1bHQgPSAieSI7
IH0gZWxzZSB7IGFzRGVmYXVsdCA9ICJuIjsgfTsKICAgICAgLy8gYWRkIHRvIHJlc3VsdCBpZiBt
YXRjaGVzIG9wdGlvbnMKICAgICAgaWYgKCAob3B0aW9uc1sibmFtZSJdLnRlc3QocHJlZk5hbWUp
KQogICAgICAgICYmIChvcHRpb25zWyJ2YWx1ZSJdLnRlc3QodmFsdWUpKQogICAgICAgICYmIChv
cHRpb25zWyJ0eXBlIl0udGVzdCh0eXBlKSkKICAgICAgICAmJiAob3B0aW9uc1sibG9ja2VkIl0u
dGVzdChsb2NrZWQpKQogICAgICAgICYmIChvcHRpb25zWyJtb2RpZmllZCJdLnRlc3QobW9kaWZp
ZWQpKQogICAgICAgICYmIChvcHRpb25zWyJhc2RlZmF1bHQiXS50ZXN0KGFzRGVmYXVsdCkpCiAg
ICAgICAgJiYgKG9wdGlvbnNbIm5vZGVmYXVsdCJdLnRlc3Qobm9EZWZhdWx0KSkKICAgICAgICAg
KQogICAgICB7CiAgICAgICAgLy8gcXVvdGUvZXNjYXBlIHN0cmluZwogICAgICAgIGlmICgodHlw
ZSA9PSAicyIpICYmIChvcHRpb25zWyJzdHlsZSJdID09IDUKICAgICAgICAgIHx8IG9wdGlvbnNb
InN0eWxlIl0gPT0gNCB8fCBvcHRpb25zWyJzdHlsZSJdID09IDMpKQogICAgICAgIHsKICAgICAg
ICAgIHZhbHVlID0gJyInICsgdmFsdWUucmVwbGFjZSgvKFsiXFxdKS9nLCAnXFwkMScpICsgJyIn
OwogICAgICAgICAgaWYgKHZhbHVlRGVmYXVsdCAhPT0gbnVsbCkgewogICAgICAgICAgICB2YWx1
ZURlZmF1bHQgPSAnIicgKyB2YWx1ZURlZmF1bHQucmVwbGFjZSgvKFsiXFxdKS9nLCAnXFwkMScp
ICsgJyInCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICh2YWx1ZURlZmF1bHQgPT09
IG51bGwpIHsgdmFsdWVEZWZhdWx0ID0gIm51bGwiIH0KICAgICAgICB2YWx1ZSA9IHZhbHVlLnJl
cGxhY2UoL1xuL2csICJcXG4iKS5yZXBsYWNlKC9cci9nLCAiXFxyIik7CiAgICAgICAgdmFsdWVE
ZWZhdWx0ID0gdmFsdWVEZWZhdWx0LnJlcGxhY2UoL1xuL2csICJcXG4iKS5yZXBsYWNlKC9cci9n
LCAiXFxyIik7CiAgICAgICAgc3dpdGNoIChvcHRpb25zWyJzdHlsZSJdKSB7CiAgICAgICAgICBj
YXNlIDU6IC8vIDU9dXNlcl9wcmVmQGRlZmF1bHQKICAgICAgICAgICAgcmVzdWx0ICs9ICd1c2Vy
X3ByZWYoIicgKyBwcmVmTmFtZSArICciLCAnICsgdmFsdWVEZWZhdWx0ICsgIik7XG4iOwogICAg
ICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgNDogLy8gND11c2VyX3ByZWYKICAgICAgICAg
ICAgcmVzdWx0ICs9ICd1c2VyX3ByZWYoIicgKyBwcmVmTmFtZSArICciLCAnICsgdmFsdWUgKyAi
KTtcbiI7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAzOiAvLyAzPXVzZXJfcHJl
Zitjb21tZW50cwogICAgICAgICAgICByZXN1bHQgKz0gJ3VzZXJfcHJlZigiJyArIHByZWZOYW1l
ICsgJyIsICcgKyB2YWx1ZSArICIpOyIKICAgICAgICAgICAgICArIGxvY2tlZC5yZXBsYWNlKC9u
L2csICIiKS5yZXBsYWNlKC95L2csICIgIC8vIGxvY2tlZCIpCiAgICAgICAgICAgICAgKyBtb2Rp
ZmllZC5yZXBsYWNlKC9uL2csICIiKS5yZXBsYWNlKC95L2csICIgIC8vIG1vZGlmaWVkIik7CiAg
ICAgICAgICAgIGlmIChhc0RlZmF1bHQgPT0gInkiICYmIG1vZGlmaWVkID09ICJ5IikgeyByZXN1
bHQgKz0gIj1kZWZhdWx0IiB9CiAgICAgICAgICAgIHJlc3VsdCArPSBub0RlZmF1bHQucmVwbGFj
ZSgvbi9nLCAiIikucmVwbGFjZSgveS9nLCAiICAvLyBub2RlZmF1bHQiKSArICJcbiI7CiAgICAg
ICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAyOiAvLyAyPWxpc3QrZGVmYXVsdAogICAgICAg
ICAgICByZXN1bHQgKz0gcHJlZk5hbWUgKyAiXHQiICsgdHlwZSArICJcdCIgKyB2YWx1ZSArICJc
dCIgKyBsb2NrZWQgKyAiXHQiCiAgICAgICAgICAgICAgKyBtb2RpZmllZCArICJcdCIgKyBhc0Rl
ZmF1bHQgKyAiXHQiICsgdmFsdWVEZWZhdWx0ICsgIlx0IiArIG5vRGVmYXVsdCArICJcbiI7CiAg
ICAgICAgICAgIGJyZWFrOwogICAgICAgICAgZGVmYXVsdDogLy8gMD1yZWdleCAvIDE9Ym9va21h
cmsKICAgICAgICAgICAgcmVzdWx0ICs9IHByZWZOYW1lLnJlcGxhY2UoLyhbKi4rXSkvZywgIlxc
JDEiKSArICJ8IjsKICAgICAgICB9CiAgICAgIH0KICAgIH0gLy8gKGVuZCBvZiBsb29wIHRocm91
Z2ggYWxsIHByZWZzKQogICAgLy8gZmluaXNoIGZvcm1pbmcgcmVzdWx0CiAgICBzd2l0Y2ggKG9w
dGlvbnNbInN0eWxlIl0pIHsKICAgICAgY2FzZSA1OgogICAgICBjYXNlIDQ6CiAgICAgIGNhc2Ug
MzoKICAgICAgY2FzZSAyOiBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICByZXN1bHQgPSBy
ZXN1bHQucmVwbGFjZSgvXHwkLywgJycpICsgJykoO3wkKXxeJC9pJzsKICAgICAgICAvLyB1cGRh
dGUgYWJvdXQ6Y29uZmlnIGRpc3BsYXkgKGlnbm9yZSBlcnJvcnMgZm9yIHRodW5kZXJiaXJkL2V0
YykKICAgICAgICB0cnkgewogICAgICAgICAgLy8gcHV0IHJlc3VsdCBpbnRvIHRoZSBhYm91dDpj
b25maWcgc2VhcmNoIGJveCBhbmQgZmlsdGVyCiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50
QnlJZCgiYWJvdXQtY29uZmlnLXNlYXJjaCIpLnZhbHVlID0gcmVzdWx0OwogICAgICAgICAgZmls
dGVyUHJlZnMoeyBzaG9ydFN0cmluZzogdHJ1ZSB9KTsKICAgICAgICAgIC8vIHRlbXBvcmFyaWx5
IGNoYW5nZSBhYm91dDpjb25maWcgdG8gY29tcGFjdCBzaXplCiAgICAgICAgICBkb2N1bWVudC5i
b2R5LnN0eWxlLmZvbnRTaXplID0gJzAuOThlbSc7CiAgICAgICAgICBmb3IgKHZhciBzIG9mIFsg
JyNwcmVmcycsICcjcHJlZnMgKicsICcjcHJlZnMgPiB0cicsICcjcHJlZnMgPiB0ciA+IHRkJywK
ICAgICAgICAgICAgJyNwcmVmcyA+IHRyID4gdGgnLCAnI3ByZWZzIGJ1dHRvbicsICcuYWRkJyBd
KQogICAgICAgICAgewogICAgICAgICAgICB2YXIgbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JB
bGwocyk7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gby5sZW5ndGg7IGkgPCBqOyBp
KyspIHsKICAgICAgICAgICAgICBpZiAocyA9PSAnLmFkZCcpIHsKICAgICAgICAgICAgICAgIC8v
IGhpZGUgdGhlIGFkZCAobGFzdCBsaW5lIG9ubHkgc2hvd2luZyB0aGUgc2VhcmNoIGNyaXRlcmlh
KQogICAgICAgICAgICAgICAgb1tpXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAg
ICAgIH0KICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIG9baV0uc3R5bGUubWlu
SGVpZ2h0ID0gIjEuMmVtIjsKICAgICAgICAgICAgICAgIG9baV0uc3R5bGUuaGVpZ2h0ID0gInVu
c2V0IjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9
CiAgICAgICAgY2F0Y2goZSkgeyB9CiAgICB9CiAgfQogIGNvbnNvbGUubG9nKHJlc3VsdCk7CiAg
aWYgKG9wdGlvbnNbImZpbGVvdXQiXSkgewogICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxs
YS5vcmcvZW4tVVMvZG9jcy9BcmNoaXZlL0FkZC1vbnMvQ29kZV9zbmlwcGV0cy9GaWxlX0lfTwog
ICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL1RoZWVtaW0vR2Vja29QcmVmc0V4cG9ydGVyCiAgICB0
cnkgewogICAgICAvLyAiQ3VyV29ya0QiIG1pZ2h0IGJlIHJlYWRvbmx5IHByb2dyYW0gZm9sZGVy
IHNvIHVzZSAiRGVzayIKICAgICAgdmFyIGZpbGUgPSBTZXJ2aWNlcy5kaXJzdmMuZ2V0KCJEZXNr
IiwgQ29tcG9uZW50cy5pbnRlcmZhY2VzLm5zSUZpbGUpOwogICAgICB2YXIgZCA9IG5ldyBEYXRl
KCk7CiAgICAgIGZpbGUuYXBwZW5kKCJ1c2VyanMtdG9vbC1hYm91dGNvbmZpZy0iICsgZC5nZXRG
dWxsWWVhcigpCiAgICAgICAgKyAoKGQuZ2V0TW9udGgoKSsxKSA8IDEwID8gIjAiIDogIiIpICsg
KGQuZ2V0TW9udGgoKSsxKQogICAgICAgICsgKGQuZ2V0RGF0ZSgpIDwgMTAgPyAiMCIgOiAiIikg
KyBkLmdldERhdGUoKQogICAgICAgICsgIi0iICsgKGQuZ2V0SG91cnMoKSA8IDEwID8gIjAiIDog
IiIpICsgZC5nZXRIb3VycygpCiAgICAgICAgKyAoZC5nZXRNaW51dGVzKCkgPCAxMCA/ICIwIiA6
ICIiKSArIGQuZ2V0TWludXRlcygpCiAgICAgICAgKyAoZC5nZXRTZWNvbmRzKCkgPCAxMCA/ICIw
IiA6ICIiKSArIGQuZ2V0U2Vjb25kcygpCiAgICAgICAgKyAiLSIgKyBkLmdldE1pbGxpc2Vjb25k
cygpICsgIi50eHQiCiAgICAgICk7CiAgICAgIGNvbnNvbGUubG9nKCcvLyBzYXZpbmcgcmVzdWx0
IHRvIGZpbGU6ICcgKyBmaWxlLnBhdGgpOwogICAgICB2YXIgZm9TdHJlYW0gPSBDb21wb25lbnRz
LmNsYXNzZXNbIkBtb3ppbGxhLm9yZy9uZXR3b3JrL2ZpbGUtb3V0cHV0LXN0cmVhbTsxIl0KICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY3JlYXRlSW5zdGFuY2UoQ29tcG9uZW50cy5p
bnRlcmZhY2VzLm5zSUZpbGVPdXRwdXRTdHJlYW0pOwogICAgICBmb1N0cmVhbS5pbml0KGZpbGUs
IDB4MDIgfCAweDA4IHwgMHgyMCwgcGFyc2VJbnQoIjA2NjYiLCA4KSwgMCk7CiAgICAgIHZhciBj
b252ZXJ0ZXIgPSBDb21wb25lbnRzLmNsYXNzZXNbIkBtb3ppbGxhLm9yZy9pbnRsL2NvbnZlcnRl
ci1vdXRwdXQtc3RyZWFtOzEiXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jcmVh
dGVJbnN0YW5jZShDb21wb25lbnRzLmludGVyZmFjZXMubnNJQ29udmVydGVyT3V0cHV0U3RyZWFt
KTsKICAgICAgY29udmVydGVyLmluaXQoZm9TdHJlYW0sICJVVEYtOCIsIDAsIDApOwogICAgICBj
b252ZXJ0ZXIud3JpdGVTdHJpbmcocmVzdWx0KTsKICAgICAgY29udmVydGVyLmNsb3NlKCk7CiAg
ICB9CiAgICBjYXRjaChlKSB7CiAgICAgIGNvbnNvbGUubG9nKCIvLyAodWp0RmluZFByZWYpIGZp
bGUgc2F2ZSBlcnJvcjpcbiIrZSsiXG4iKTsKICAgIH0KICB9Cn0KCnZhciB1anRTZXRQcmVmID0g
ZnVuY3Rpb24ocHJlZiwgdmFsdWUpIHsKICB0cnkgewogICAgaWYgKFNlcnZpY2VzLnByZWZzLmdl
dFByZWZUeXBlKHByZWYpID09IDApIHsKICAgICAgY29uc29sZS5sb2coIi8vICh1anRTZXRQcmVm
KSBjcmVhdGluZzogIiArIHByZWYgKyAiXG4iKTsKICAgIH0KICAgIHN3aXRjaCAodHlwZW9mIHZh
bHVlKSB7CiAgICAgIGNhc2UgImJvb2xlYW4iOgogICAgICAgIFNlcnZpY2VzLnByZWZzLnNldEJv
b2xQcmVmKHByZWYsIHZhbHVlKTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAibnVtYmVyIjoK
ICAgICAgICBTZXJ2aWNlcy5wcmVmcy5zZXRJbnRQcmVmKHByZWYsIHZhbHVlKTsKICAgICAgICBi
cmVhazsKICAgICAgY2FzZSAic3RyaW5nIjoKICAgICAgICBpZiAodWp0VXNlQ2hhclByZWYpIHsg
U2VydmljZXMucHJlZnMuc2V0Q2hhclByZWYocHJlZiwgdmFsdWUpIH0KICAgICAgICBlbHNlIHsg
U2VydmljZXMucHJlZnMuc2V0U3RyaW5nUHJlZihwcmVmLCB2YWx1ZSkgfQogICAgICAgIGJyZWFr
OwogICAgfQogIH0KICBjYXRjaChlKSB7CiAgICBjb25zb2xlLmxvZygiLy8gKHVqdFNldFByZWYp
IGVycm9yOiAiICsgZSArICIgcHJlZjogIgogICAgICArIHByZWYgKyAiIHZhbHVlOiAiICsgdmFs
dWUgKyAiXG4iKTsKICB9Cn0KCnZhciB1anRSZXNldFByZWYgPSBmdW5jdGlvbihwcmVmKSB7CiAg
dHJ5IHsKICAgIGlmIChTZXJ2aWNlcy5wcmVmcy5wcmVmSGFzVXNlclZhbHVlKHByZWYpKSB7CiAg
ICAgIFNlcnZpY2VzLnByZWZzLmNsZWFyVXNlclByZWYocHJlZik7CiAgICAgIGlmIChTZXJ2aWNl
cy5wcmVmcy5wcmVmSGFzVXNlclZhbHVlKHByZWYpKSB7CiAgICAgICAgY29uc29sZS5sb2coIi8v
ICh1anRSZXNldFByZWYpIGZhaWxlZDogIiArIHByZWYgKyAiXG4iKTsKICAgICAgfQogICAgfQog
IH0KICBjYXRjaChlKSB7CiAgICBjb25zb2xlLmxvZygiLy8gKHVqdFJlc2V0UHJlZikgZXJyb3I6
ICIgKyBlICsgIiBwcmVmOiAiICsgcHJlZiArICJcbiIpOwogIH0KfQoKLy8gc2V0IHVzZXJfcHJl
ZiBhbGlhcyB0byBmdW5jdGlvbiByZXF1aXJlZCAodGhlbiB5b3UgY2FuIHBhc3RlL3J1biB1c2Vy
LmpzKQp2YXIgdXNlcl9wcmVmID0gdWp0U2V0UHJlZjsKLy8gdmFyIHVzZXJfcHJlZiA9IHVqdFJl
c2V0UHJlZjsKCi8qIGVuZCBvZiB1c2VyanMtdG9vbC1hYm91dGNvbmZpZy1mdW5jdGlvbnMuanMg
Ki8K
</div>
<!-- the above base64 encoded block is functions for about:config -->

<!-- *************************************
      If you paste "base64 encoded user.js" within a <div> below it will be
      decoded, loaded, and displayed on opening. (box 2 does not auto display)
      Use the "Menu>Actions>[Encode]" option to create the base64 data.
      example: <div id="base64_box_4">LyogdGVzdCAqLw==</div>
      (It is better to use the ui, as content pasted here will soon go stale)
     ************************************* -->

<div id="base64_box_1" class="hidden"></div>

<div id="base64_box_2" class="hidden"></div>

<div id="base64_box_3" class="hidden"></div>

<div id="base64_box_4" class="hidden"></div>

</body>

</html>
